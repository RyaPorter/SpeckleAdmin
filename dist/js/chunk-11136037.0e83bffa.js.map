{"version":3,"sources":["webpack:///./src/views/Project.vue?9cff","webpack:///./src/components/PermissionTableProject.vue?212c","webpack:///src/components/PermissionTableProject.vue","webpack:///./src/components/PermissionTableProject.vue?8702","webpack:///./src/components/PermissionTableProject.vue","webpack:///./src/components/ProjectDetailStreams.vue?72d5","webpack:///./src/components/StreamCardSmall.vue?bfb1","webpack:///src/components/StreamCardSmall.vue","webpack:///./src/components/StreamCardSmall.vue?571f","webpack:///./src/components/StreamCardSmall.vue","webpack:///src/components/ProjectDetailStreams.vue","webpack:///./src/components/ProjectDetailStreams.vue?ef7c","webpack:///./src/components/ProjectDetailStreams.vue","webpack:///./src/components/ProjectDetailTitle.vue?2f3e","webpack:///src/components/ProjectDetailTitle.vue","webpack:///./src/components/ProjectDetailTitle.vue?843b","webpack:///./src/components/ProjectDetailTitle.vue","webpack:///src/views/Project.vue","webpack:///./src/views/Project.vue?b960","webpack:///./src/views/Project.vue","webpack:///./src/views/Project.vue?bcbb","webpack:///./src/components/PermissionTableProject.vue?be83","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/components/UserSearch.vue?f964","webpack:///./src/components/ProjectDetailStreams.vue?5423","webpack:///./src/components/StreamSearch.vue?3bca","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/ProjectDetailTitle.vue?c307","webpack:///./src/components/UserSearch.vue?b165","webpack:///src/components/UserSearch.vue","webpack:///./src/components/UserSearch.vue?29b2","webpack:///./src/components/UserSearch.vue","webpack:///./src/components/DetailDescription.vue?b485","webpack:///src/components/DetailDescription.vue","webpack:///./src/components/DetailDescription.vue?7229","webpack:///./src/components/DetailDescription.vue","webpack:///./src/components/DetailDescription.vue?97ea","webpack:///./src/components/StreamCardSmall.vue?26e7","webpack:///./src/components/StreamSearch.vue?ca93","webpack:///src/components/StreamSearch.vue","webpack:///./src/components/StreamSearch.vue?c958","webpack:///./src/components/StreamSearch.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","project","staticStyle","width","padding","border-radius","_v","nativeOn","click","$event","restore","_e","attrs","resource","md-with-hover","on","selected-user","addUserToTeam","global-disabled","canEdit","remove-user","move-user","selected-stream","addStream","remove-stream","removeStream","height","md-mode","staticRenderFns","PermissionTableProjectvue_type_template_id_74ea60bf_scoped_true_render","allUsersPop","length","_l","user","class","md-layout md-alignment-center-left user","bg-ghost-white","isOwner","style","background","getHexFromString","name","_s","substring","toUpperCase","surname","company","md-dense md-raised-xx","md-primary","hasWritePermissionStreams","_id","disabled","includes","globalDisabled","changePermissionStreams","hasWritePermissionProject","changePermissionProject","removeUser","PermissionTableProjectvue_type_template_id_74ea60bf_scoped_true_staticRenderFns","PermissionTableProjectvue_type_script_lang_js_","props","Object","type","Boolean","default","computed","canReadProject","canRead","canWriteProject","canWrite","canReadStreams","permissions","canWriteStreams","allUsers","lodash_uniq_default","toConsumableArray","concat","owner","_this","map","userId","u","$store","state","users","find","dispatch","sort","a","b","data","methods","indexOf","localCanWrite","localCanRead","streamCanWrite","streamCanRead","filter","uId","upgradeUser","hasWritePermission","downgradeUser","projectId","mounted","components_PermissionTableProjectvue_type_script_lang_js_","component","componentNormalizer","options","__file","PermissionTableProject","ProjectDetailStreamsvue_type_template_id_fe40c512_scoped_true_render","streams-to-omit","streams","write-only","selectStream","stream","key","streamId","removable","ProjectDetailStreamsvue_type_template_id_fe40c512_scoped_true_staticRenderFns","StreamCardSmallvue_type_template_id_45a6e80e_scoped_true_render","margin-bottom","to","commitMessage","datetime","updatedAt","$emit","StreamCardSmallvue_type_template_id_45a6e80e_scoped_true_staticRenderFns","StreamCardSmallvue_type_script_lang_js_","String","s","components_StreamCardSmallvue_type_script_lang_js_","StreamCardSmall_component","StreamCardSmall","ProjectDetailStreamsvue_type_script_lang_js_","components","StreamSearch","watch","components_ProjectDetailStreamsvue_type_script_lang_js_","ProjectDetailStreams_component","ProjectDetailStreams","ProjectDetailTitlevue_type_template_id_ee42a668_scoped_true_render","text","update","updateName","user-select","md-placeholder","md-disabled","input","updateTags","model","value","callback","$$v","$set","expression","ProjectDetailTitlevue_type_template_id_ee42a668_scoped_true_staticRenderFns","ProjectDetailTitlevue_type_script_lang_js_","args","lodash_debounce_default","e","tags","components_ProjectDetailTitlevue_type_script_lang_js_","ProjectDetailTitle_component","ProjectDetailTitle","Projectvue_type_script_lang_js_","UserSearch","PermissionTable","DetailDescription","projects","p","$route","params","deleted","_this2","lodash_union_default","forEach","then","res","catch","err","isAuth","$router","push","console","log","views_Projectvue_type_script_lang_js_","Project_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Project_vue_vue_type_style_index_0_id_6d75cb54_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Project_vue_vue_type_style_index_0_id_6d75cb54_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTableProject_vue_vue_type_style_index_0_id_74ea60bf_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTableProject_vue_vue_type_style_index_0_id_74ea60bf_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","fails","module","exports","method","arg","call","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_5ba2af08_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_5ba2af08_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailStreams_vue_vue_type_style_index_0_id_fe40c512_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailStreams_vue_vue_type_style_index_0_id_fe40c512_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSearch_vue_vue_type_style_index_0_id_23956790_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSearch_vue_vue_type_style_index_0_id_23956790_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","$export","aFunction","toObject","$sort","test","P","F","undefined","comparefn","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailTitle_vue_vue_type_style_index_0_id_ee42a668_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetailTitle_vue_vue_type_style_index_0_id_ee42a668_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","md-clearable","startSearchUsers","userSearch","directives","rawName","md-diameter","md-stroke","foundUsers","margin","md-clickable","selectUser","searchInProgress","UserSearchvue_type_script_lang_js_","msg","newVal","oldVal","index","findIndex","splice","searchUsers","searchString","axios_default","post","resources","commit","components_UserSearchvue_type_script_lang_js_","isStream","editDescription","domProps","innerHTML","compiledDescription","target","href","updateDescription","baseProperties","units","tolerance","DetailDescriptionvue_type_script_lang_js_","marked_default","description","sanitize","hasOwnProperty","components_DetailDescriptionvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DetailDescription_vue_vue_type_style_index_0_id_5c77723a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_DetailDescription_vue_vue_type_style_index_0_id_5c77723a_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamCardSmall_vue_vue_type_style_index_0_id_45a6e80e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamCardSmall_vue_vue_type_style_index_0_id_45a6e80e_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","spellcheck","updateSearch","searchfilter","filters","tag","margin-right","paginatedStreams","StreamSearchvue_type_script_lang_js_","streamsToOmit","Array","writeOnly","filteredStreams","getters","toReturn","slice","startIndex","endIndex","val","showSearchResults","split","t","_unused","components_StreamSearchvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-11136037.0e83bffa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.project)?_c('div',{staticClass:\"md-layout md-alignment-center-center\"},[(_vm.project.deleted)?_c('div',{staticClass:\"md-layout-item md-size-100 text-center sticky-top\"},[_c('md-content',{staticClass:\"md-accent md-caption md-layout md-alignment-center-center\",staticStyle:{\"width\":\"100%\",\"padding\":\"10px\",\"border-radius\":\"2px\"}},[_c('div',{staticClass:\"md-layout-item\"},[_vm._v(\"This project is in your trashbin.\")]),_c('div',{staticClass:\"md-layout-item\"},[(_vm.canEdit)?_c('md-button',{staticClass:\"md-dense md-raised\",nativeOn:{\"click\":function($event){return _vm.restore($event)}}},[_vm._v(\" Restore? \")]):_vm._e()],1)])],1):_vm._e(),_c('div',{staticClass:\"md-layout-item md-size-55 md-large-size-65 md-medium-size-100 detail-card\"},[_c('project-detail-title',{attrs:{\"project\":_vm.project}}),_c('detail-description',{attrs:{\"resource\":_vm.project}}),_c('br'),_c('md-card',{attrs:{\"md-with-hover\":\"\"}},[_c('md-card-header',{staticClass:\"bg-ghost-white\"},[_c('md-card-header-text',[_c('h2',{staticClass:\"md-title\"},[_c('md-icon',[_vm._v(\"group\")]),_vm._v(\" Team Members\")],1),_c('p',{staticClass:\"md-caption\"},[_vm._v(\"The following people will have access to the streams in this project, and will be able to view this project. Please note, users with higher privileges from other projects will not be downgraded or removed.\")])])],1),_c('md-card-content',[(_vm.canEdit)?_c('user-search',{on:{\"selected-user\":_vm.addUserToTeam}}):_vm._e(),_c('permission-table',{attrs:{\"project\":_vm.project,\"global-disabled\":!_vm.canEdit},on:{\"remove-user\":function($event){},\"move-user\":function($event){}}})],1)],1),_c('br'),_c('project-detail-streams',{attrs:{\"project\":_vm.project},on:{\"selected-stream\":_vm.addStream,\"remove-stream\":_vm.removeStream}})],1)]):_c('div',{staticClass:\"md-layout md-alignment-center-center\",staticStyle:{\"height\":\"95vh\"}},[_c('div',{staticClass:\"md-layout-item md-size-55\"},[_c('md-progress-bar',{attrs:{\"md-mode\":\"indeterminate\"}})],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.project)?_c('div',{},[(_vm.allUsersPop.length === 0)?_c('div',[_vm._v(\"\\n      No sharing buddies so far!\\n    \")]):_vm._e(),_vm._l((_vm.allUsersPop),function(user){return (user)?_c('div',{class:{ \"md-layout md-alignment-center-left user\":true, \"bg-ghost-white\": user.isOwner}},[_c('div',{staticClass:\"md-layout-item md-size-10 md-small-hide\"},[_c('md-avatar',{staticClass:\"md-avatar-icon md-small\",style:({ \"background\" : _vm.getHexFromString( user.name ) })},[_vm._v(_vm._s(user.name.substring(0,1).toUpperCase()))])],1),_c('div',{staticClass:\"md-layout-item xxx-md-size-40 md-xsmall-size-100 text-center\"},[_vm._v(\"\\n        \"+_vm._s(user.name)+\" \"+_vm._s(user.surname)+\" \"),(user.company)?_c('span',{staticClass:\"md-caption\"},[_vm._v(\"(\"+_vm._s(user.company)+\")\")]):_vm._e(),_vm._v(\" \"),(user.isOwner)?_c('span',[_c('strong',[_vm._v(\"owner\")])]):_vm._e()]),_c('div',{staticClass:\"md-layout-item text-center md-xsmall-size-100\"},[_c('md-button',{class:{ \"md-dense md-raised-xx\": true, \"md-primary\" : _vm.hasWritePermissionStreams(user._id)},attrs:{\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || user.isOwner},nativeOn:{\"click\":function($event){_vm.changePermissionStreams(user._id)}}},[_vm._v(\"\\n          \"+_vm._s(user.isOwner ? \"write streams\" : _vm.hasWritePermissionStreams(user._id) ? \"write streams\" : \"read streams\")+\"\\n        \")])],1),_c('div',{staticClass:\"md-layout-item text-center md-xsmall-size-100\"},[_c('md-button',{class:{ \"md-dense md-raised-xx\": true, \"md-primary\" : _vm.hasWritePermissionProject(user._id)},attrs:{\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || user.isOwner},nativeOn:{\"click\":function($event){_vm.changePermissionProject(user._id)}}},[_vm._v(\"\\n          \"+_vm._s(user.isOwner ? \"write project\" : _vm.hasWritePermissionProject(user._id) ? \"write project\" : \"read project\")+\"\\n        \")])],1),_c('div',{staticClass:\"md-layout-item text-center md-size-5 md-xsmall-size-100\"},[_c('md-button',{staticClass:\"md-dense-xxx md-icon-button md-accent\",attrs:{\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || user.isOwner},nativeOn:{\"click\":function($event){_vm.removeUser(user._id)}}},[_c('md-icon',[_vm._v(\"delete\")])],1)],1),_c('div',{staticClass:\"md-layout-item md-size-100\"}),_c('div',{staticClass:\"md-layout-item md-size-100\"})]):_vm._e()})],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class='' v-if='project'>\r\n      <div v-if='allUsersPop.length === 0'>\r\n        No sharing buddies so far!\r\n      </div>\r\n      <div :class='{ \"md-layout md-alignment-center-left user\":true, \"bg-ghost-white\": user.isOwner}' v-for='user in allUsersPop' v-if='user'>\r\n        <div class=\"md-layout-item md-size-10 md-small-hide\">\r\n          <md-avatar class=\"md-avatar-icon md-small\" :style='{ \"background\" : getHexFromString( user.name ) }'>{{user.name.substring(0,1).toUpperCase()}}</md-avatar>\r\n        </div>\r\n        <div class=\"md-layout-item xxx-md-size-40 md-xsmall-size-100 text-center\">\r\n          {{user.name}} {{user.surname}}&nbsp<span v-if='user.company' class='md-caption'>({{user.company}})</span>&nbsp<span v-if='user.isOwner'><strong>owner</strong> </span>\r\n        </div>\r\n        <div class=\"md-layout-item text-center md-xsmall-size-100\">\r\n          <md-button :class='{ \"md-dense md-raised-xx\": true, \"md-primary\" : hasWritePermissionStreams(user._id)}' @click.native='changePermissionStreams(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || user.isOwner'>\r\n            {{ user.isOwner ? \"write streams\" : hasWritePermissionStreams(user._id) ? \"write streams\" : \"read streams\"}}\r\n          </md-button>\r\n        </div>\r\n        <div class=\"md-layout-item text-center md-xsmall-size-100\">\r\n          <md-button :class='{ \"md-dense md-raised-xx\": true, \"md-primary\" : hasWritePermissionProject(user._id)}' @click.native='changePermissionProject(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || user.isOwner'>\r\n            {{ user.isOwner ? \"write project\" : hasWritePermissionProject(user._id) ? \"write project\" : \"read project\"}}\r\n          </md-button>\r\n        </div>\r\n        <div class=\"md-layout-item text-center md-size-5 md-xsmall-size-100\">\r\n          <md-button class='md-dense-xxx md-icon-button md-accent' @click.native='removeUser(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || user.isOwner'>\r\n            <md-icon>delete</md-icon>\r\n          </md-button>\r\n        </div>\r\n        <div class=\"md-layout-item md-size-100\">\r\n          <!-- <md-divider></md-divider> -->\r\n        </div>\r\n        <div class=\"md-layout-item md-size-100\">\r\n          <!-- <md-divider></md-divider> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport uniq from 'lodash.uniq'\r\n\r\n\r\nexport default {\r\n  name: 'PermissionTable',\r\n  props: {\r\n    project: Object,\r\n    globalDisabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    canReadProject( ) { return this.project.canRead },\r\n    canWriteProject( ) { return this.project.canWrite },\r\n    canReadStreams( ) { return this.project.permissions.canRead },\r\n    canWriteStreams( ) { return this.project.permissions.canWrite },\r\n    allUsers( ) {\r\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\r\n    },\r\n    allUsersPop( ) {\r\n      if ( this.allUsers.length === 0 ) return [ ]\r\n      return this.allUsers.map( userId => {\r\n        let u = this.$store.state.users.find( user => user._id === userId )\r\n        if ( !u ) this.$store.dispatch( 'getUser', { _id: userId } )\r\n        if ( u ) u.isOwner = u._id === this.project.owner\r\n        return u\r\n      } ).sort( ( a, b ) => a.name > b.name ? 1 : -1 )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    hasWritePermissionStreams( _id ) {\r\n      return this.canWriteStreams.indexOf( _id ) > -1\r\n    },\r\n    hasWritePermissionProject( _id ) {\r\n      return this.canWriteProject.indexOf( _id ) > -1\r\n    },\r\n    changePermissionProject( userId ) {\r\n      let canWrite = this.project.canWrite.indexOf( userId ) > -1 ? true : false\r\n      let localCanWrite = [ ],\r\n        localCanRead = [ ],\r\n        streamCanWrite = this.project.permissions.canWrite,\r\n        streamCanRead = this.project.permissions.canRead\r\n\r\n      if ( canWrite ) {\r\n        localCanWrite = this.project.canWrite.filter( uId => uId !== userId )\r\n        localCanRead = uniq( [ ...this.project.canRead, userId ] )\r\n      } else {\r\n        localCanRead = this.project.canRead\r\n        localCanWrite = uniq( [ ...this.project.canWrite, userId ] )\r\n        // TODO: UPGRADE STREAMS CANWRITE TOO (otherwise user x can edit the project but not do much)\r\n        streamCanWrite = uniq( [ ...streamCanWrite, userId ] )\r\n        this.upgradeUser( userId )\r\n      }\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, permissions: { canRead: streamCanRead, canWrite: streamCanWrite }, canRead: localCanRead, canWrite: localCanWrite } )\r\n    },\r\n    changePermissionStreams( userId ) {\r\n      let hasWritePermission = this.project.permissions.canWrite.indexOf( userId ) > -1 ? true : false\r\n      if ( !hasWritePermission ) this.upgradeUser( userId )\r\n      else this.downgradeUser( userId )\r\n    },\r\n    upgradeUser( userId ) {\r\n      this.$store.dispatch( 'upgradeUserInProject', { projectId: this.project._id, userId: userId } )\r\n    },\r\n    downgradeUser( userId ) {\r\n      this.$store.dispatch( 'downgradeUserInProject', { projectId: this.project._id, userId: userId } )\r\n    },\r\n    removeUser( userId ) {\r\n      this.$store.dispatch( 'removeUserInProject', { projectId: this.project._id, userId: userId } )\r\n    }\r\n  },\r\n  mounted( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.user {\r\n  padding: 2px 10px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionTableProject.vue?vue&type=template&id=74ea60bf&scoped=true&\"\nimport script from \"./PermissionTableProject.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionTableProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionTableProject.vue?vue&type=style&index=0&id=74ea60bf&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74ea60bf\",\n  null\n  \n)\n\ncomponent.options.__file = \"PermissionTableProject.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{attrs:{\"md-with-hover\":\"\"}},[_c('md-card-header',{staticClass:\"bg-ghost-white\"},[_c('md-card-header-text',[_c('h2',{staticClass:\"md-title\"},[_c('md-icon',[_vm._v(\"import_export\")]),_vm._v(\" Streams\")],1),_c('p',{staticClass:\"md-caption\"},[_vm._v(\"These are this project's streams. Adding a stream here will automatically grant write permission to the project's team members.\"),(_vm.canEdit)?_c('span',[_c('br'),_vm._v(\" \"),_c('md-divider'),_c('br'),_vm._v(\"You can only add streams that you have write permissions to.\")],1):_vm._e()])])],1),_c('md-card-content',{staticClass:\"md-layout\"},[_c('div',{staticClass:\"md-layout-item md-size-100\"},[(_vm.canEdit)?_c('stream-search',{attrs:{\"streams-to-omit\":_vm.streams,\"write-only\":\"\"},on:{\"selected-stream\":_vm.selectStream}}):_vm._e()],1),(_vm.streams.length === 0)?_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('p',[_vm._v(\"This project has no streams. Add some using the form below!\")])]):_c('div',{staticClass:\"md-layout-item md-size-100\"},_vm._l((_vm.streams),function(stream){return _c('stream-card-small',{key:stream,attrs:{\"streamId\":stream,\"removable\":_vm.canEdit},on:{\"remove-stream\":_vm.removeStream}})}))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.stream)?_c('md-card',{staticClass:\"md-elevation-0\",staticStyle:{\"margin-bottom\":\"5px\"}},[_c('md-card-content',{staticClass:\"md-layout md-gutter md-alignment-center-left\"},[_c('div',{staticClass:\"md-layout-item md-size-30\"},[_c('router-link',{attrs:{\"to\":\"/streams/\"+_vm.stream.streamId}},[_vm._v(_vm._s(_vm.stream.name))])],1),_c('div',{staticClass:\"md-layout-item md-caption\"},[(_vm.stream.commitMessage)?_c('span',[_vm._v(\" \"+_vm._s(_vm.stream.commitMessage))]):_vm._e()]),_c('div',{staticClass:\"md-layout-item md-caption text-right\"},[_vm._v(\"\\n      \"+_vm._s(_vm.stream.streamId)+\" | last update \"),_c('strong',[_c('timeago',{attrs:{\"datetime\":_vm.stream.updatedAt}})],1)]),(_vm.removable)?_c('div',{staticClass:\"md-layout-item text-right\"},[_c('md-button',{staticClass:\"md-dense-xxx md-icon-button md-accent\",nativeOn:{\"click\":function($event){_vm.$emit(\"remove-stream\", _vm.streamId)}}},[_c('md-icon',[_vm._v(\"delete\")])],1)],1):_vm._e()])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card class='md-elevation-0' style='margin-bottom: 5px;' v-if='stream'>\r\n    <md-card-content class='md-layout md-gutter md-alignment-center-left'>\r\n      <div class=\"md-layout-item md-size-30\">\r\n        <router-link :to='\"/streams/\"+stream.streamId'>{{stream.name}}</router-link>\r\n      </div>\r\n      <div class=\"md-layout-item md-caption\">\r\n        <span v-if='stream.commitMessage'> {{stream.commitMessage}}</span>\r\n      </div>\r\n      <div class=\"md-layout-item md-caption text-right\">\r\n        {{stream.streamId}} | last update <strong><timeago :datetime='stream.updatedAt'></timeago></strong>\r\n      </div>\r\n      <div class=\"md-layout-item text-right\" v-if='removable'>\r\n        <md-button class='md-dense-xxx md-icon-button md-accent' @click.native='$emit(\"remove-stream\", streamId)'>\r\n          <md-icon>delete</md-icon>\r\n        </md-button>\r\n      </div>\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'StreamCardSmall',\r\n  props: {\r\n    streamId: String,\r\n    removable: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  computed: {\r\n    stream( ) {\r\n      let stream = this.$store.state.streams.find( s => s.streamId === this.streamId )\r\n      if ( !stream ) this.$store.dispatch( 'getStream', { streamId: this.streamId } )\r\n      return stream\r\n    }\r\n  },\r\n  data( ) { return {} },\r\n  methods: {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamCardSmall.vue?vue&type=template&id=45a6e80e&scoped=true&\"\nimport script from \"./StreamCardSmall.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamCardSmall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamCardSmall.vue?vue&type=style&index=0&id=45a6e80e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45a6e80e\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamCardSmall.vue\"\nexport default component.exports","<template>\r\n  <md-card md-with-hover>\r\n    <md-card-header class='bg-ghost-white'>\r\n      <md-card-header-text>\r\n        <h2 class='md-title'><md-icon>import_export</md-icon> Streams</h2>\r\n        <p class='md-caption'>These are this project's streams. Adding a stream here will automatically grant write permission to the project's team members.<span v-if='canEdit'><br>&nbsp<md-divider></md-divider><br>You can only add streams that you have write permissions to.</span></p>\r\n      </md-card-header-text>\r\n    </md-card-header>\r\n    <md-card-content class='md-layout'>\r\n      <div class='md-layout-item md-size-100'>\r\n        <stream-search :streams-to-omit='streams' write-only v-on:selected-stream='selectStream' v-if='canEdit'></stream-search>\r\n      </div>\r\n      <div class='md-layout-item md-size-100' v-if='streams.length === 0'>\r\n        <p>This project has no streams. Add some using the form below!</p>\r\n      </div>\r\n      <div class='md-layout-item md-size-100' v-else>\r\n        <stream-card-small v-for='stream in streams' :key='stream' :streamId='stream' v-on:remove-stream='removeStream' :removable='canEdit'></stream-card-small>\r\n      </div>\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport StreamCardSmall from './StreamCardSmall.vue'\r\nimport StreamSearch from './StreamSearch.vue'\r\n\r\nexport default {\r\n  name: 'ProjectStreams',\r\n  components: {\r\n    StreamCardSmall,\r\n    StreamSearch\r\n  },\r\n  props: {\r\n    project: Object,\r\n  },\r\n  computed: {\r\n    streams( ) { return this.project.streams ? this.project.streams : [ ] },\r\n    canEdit( ) {\r\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\r\n    },\r\n  },\r\n  watch: {},\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    selectStream( streamId ) {\r\n      // just bubble it up\r\n      this.$emit( 'selected-stream', streamId )\r\n    },\r\n    removeStream( streamId ) {\r\n      // just bubble it up\r\n      this.$emit( 'remove-stream', streamId )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetailStreams.vue?vue&type=template&id=fe40c512&scoped=true&\"\nimport script from \"./ProjectDetailStreams.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetailStreams.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetailStreams.vue?vue&type=style&index=0&id=fe40c512&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe40c512\",\n  null\n  \n)\n\ncomponent.options.__file = \"ProjectDetailStreams.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-elevation-0 title-card\"},[_c('md-card-content',[_c('h1',{staticClass:\"md-display-1\"},[_c('router-link',{attrs:{\"to\":\"/projects\"}},[_vm._v(\"Projects\")]),_vm._v(\" /\\n    \"),(_vm.canEdit)?_c('editable-span',{attrs:{\"text\":_vm.project.name},on:{\"update\":_vm.updateName}}):_c('span',[_vm._v(_vm._s(_vm.project.name))])],1),_c('p',[_c('md-chip',{staticClass:\"md-primary\"},[_vm._v(\"projectId: \"),_c('span',{staticStyle:{\"user-select\":\"all\"}},[_c('strong',[_vm._v(_vm._s(_vm.project._id))])])])],1),_c('div',{staticClass:\"md-xlarge-hide md-large-hide md-medium-hide md-small-hide\"},[_c('br'),_vm._v(\" \")]),_c('md-chip',{},[(_vm.canEdit)?_c('span',[_c('md-icon',[_vm._v(\"lock_open\")]),_vm._v(\" you can edit\")],1):_c('span',[_c('md-icon',[_vm._v(\"lock\")]),_vm._v(\" you cannot edit\")],1)]),_c('p'),_c('md-divider'),_c('md-chips',{staticClass:\"stream-chips\",attrs:{\"md-placeholder\":\"add tags\",\"md-disabled\":\"!canEdit\"},on:{\"input\":_vm.updateTags},model:{value:(_vm.project.tags),callback:function ($$v) {_vm.$set(_vm.project, \"tags\", $$v)},expression:\"project.tags\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card class='md-elevation-0 title-card'>\r\n    <md-card-content>\r\n      <h1 class='md-display-1'>\r\n      <router-link to='/projects'>Projects</router-link> /\r\n      <editable-span v-if='canEdit' :text='project.name' @update='updateName'></editable-span>\r\n      <span v-else>{{project.name}}</span>\r\n    </h1>\r\n      <p>\r\n        <md-chip class='md-primary'>projectId: <span style=\"user-select:all\">\r\n        <strong>{{project._id}}</strong></span>\r\n        </md-chip>\r\n        <div class='md-xlarge-hide md-large-hide md-medium-hide md-small-hide'><br>&nbsp</div>\r\n        <md-chip class=''>\r\n          <span v-if='canEdit'><md-icon>lock_open</md-icon> you can edit</span>\r\n          <span v-else><md-icon>lock</md-icon> you cannot edit</span>\r\n        </md-chip>\r\n      </p>\r\n      <md-divider></md-divider>\r\n      <md-chips v-model=\"project.tags\" @input='updateTags' md-placeholder=\"add tags\" class='stream-chips' md-disabled='!canEdit'></md-chips>\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\n\r\nexport default {\r\n  name: 'HelloWorld',\r\n  props: {\r\n    project: Object\r\n  },\r\n  computed: {\r\n    canEdit( ) {\r\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\r\n    },\r\n  },\r\n  data( ) { return {} },\r\n  methods: {\r\n    updateName( args ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, name: args.text } )\r\n    },\r\n    updateTags: debounce( function( e ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, tags: this.project.tags } )\r\n    }, 1000 ),\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.title-card {\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n}\r\n\r\n.project-name {\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.project-name:hover {\r\n  color: #448aff;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetailTitle.vue?vue&type=template&id=ee42a668&scoped=true&\"\nimport script from \"./ProjectDetailTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetailTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetailTitle.vue?vue&type=style&index=0&id=ee42a668&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ee42a668\",\n  null\n  \n)\n\ncomponent.options.__file = \"ProjectDetailTitle.vue\"\nexport default component.exports","<template>\r\n  <div>\r\n    <div class='md-layout md-alignment-center-center' v-if='project'>\r\n      <div class=\"md-layout-item md-size-100 text-center sticky-top\" v-if='project.deleted'>\r\n        <md-content class='md-accent md-caption md-layout md-alignment-center-center' style='width:100%;padding:10px; border-radius: 2px;'>\r\n          <div class='md-layout-item'>This project is in your trashbin.</div>\r\n          <div class='md-layout-item'>\r\n            <md-button class='md-dense md-raised' v-if='canEdit' @click.native='restore'> Restore? </md-button>\r\n          </div>\r\n        </md-content>\r\n      </div>\r\n      <div class=\"md-layout-item md-size-55 md-large-size-65 md-medium-size-100 detail-card\">\r\n        <project-detail-title :project='project'></project-detail-title>\r\n        <detail-description :resource='project'></detail-description>\r\n        <br>\r\n        <md-card md-with-hover>\r\n          <md-card-header class='bg-ghost-white'>\r\n            <md-card-header-text>\r\n              <h2 class='md-title'><md-icon>group</md-icon> Team Members</h2>\r\n              <p class='md-caption'>The following people will have access to the streams in this project, and will be able to view this project. Please note, users with higher privileges from other projects will not be downgraded or removed.</p>\r\n            </md-card-header-text>\r\n          </md-card-header>\r\n          <md-card-content>\r\n            <user-search v-on:selected-user='addUserToTeam' v-if='canEdit'></user-search>\r\n            <permission-table :project='project' :global-disabled='!canEdit' @remove-user='' @move-user=''></permission-table>\r\n          </md-card-content>\r\n        </md-card>\r\n        <br>\r\n        <project-detail-streams :project='project' v-on:selected-stream='addStream' v-on:remove-stream='removeStream'></project-detail-streams>\r\n      </div>\r\n    </div>\r\n    <div class='md-layout md-alignment-center-center' style=\"height: 95vh\" v-else>\r\n      <div class='md-layout-item md-size-55'>\r\n        <md-progress-bar md-mode=\"indeterminate\"></md-progress-bar>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport uniq from 'lodash.uniq'\r\n\r\nimport UserSearch from '../components/UserSearch.vue'\r\nimport PermissionTable from '../components/PermissionTableProject.vue'\r\nimport DetailDescription from '../components/DetailDescription.vue'\r\nimport ProjectDetailStreams from '../components/ProjectDetailStreams.vue'\r\nimport ProjectDetailTitle from '../components/ProjectDetailTitle.vue'\r\n\r\nexport default {\r\n  name: 'ProjectDetailView',\r\n  components: {\r\n    UserSearch,\r\n    PermissionTable,\r\n    DetailDescription,\r\n    ProjectDetailStreams,\r\n    ProjectDetailTitle\r\n  },\r\n  props: {},\r\n  computed: {\r\n    canEdit( ) {\r\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\r\n    },\r\n    project( ) {\r\n      return this.$store.state.projects.find( p => p._id === this.$route.params.projectId )\r\n    },\r\n    canReadProject( ) { return this.project.canRead },\r\n    canWriteProject( ) { return this.project.canWrite },\r\n    canReadStreams( ) { return this.project.permissions.canRead },\r\n    canWriteStreams( ) { return this.project.permissions.canWrite },\r\n    allUsers( ) {\r\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    restore( ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, deleted: false } )\r\n    },\r\n    addUserToTeam( userId ) {\r\n      this.$store.dispatch( 'addUserToProject', { projectId: this.project._id, userId: userId } )\r\n      return\r\n    },\r\n    addStream( streamId ) {\r\n      this.$store.dispatch( 'addStreamToProject', { projectId: this.project._id, streamId: streamId } )\r\n      return\r\n    },\r\n    removeStream( streamId ) {\r\n      this.$store.dispatch( 'removeStreamFromProject', { projectId: this.project._id, streamId: streamId } )\r\n    },\r\n  },\r\n  mounted( ) {\r\n    let project = this.$store.state.projects.find( p => p._id === this.$route.params.projectId )\r\n    if ( !project ) {\r\n      this.$store.dispatch( 'getProject', { _id: this.$route.params.projectId } )\r\n        .then( res => {\r\n          this.$store.dispatch( 'getUser', { _id: res.data.resource.owner } )\r\n          union( res.data.resource.canRead, res.data.resource.canWrite ).forEach( _id => this.$store.dispatch( 'getUser', { _id: _id } ) )\r\n        } )\r\n        .catch( err => {\r\n          if ( this.$store.state.isAuth ) {\r\n            this.$router.push( '/projects' )\r\n            console.log( \"you don't have permission.\" )\r\n          } else {\r\n            console.log( \"should redirect to login\" )\r\n            this.$router.push( '/login' )\r\n          }\r\n          console.log( err )\r\n        } )\r\n    } else {\r\n      this.$store.dispatch( 'getUser', { _id: project.owner } )\r\n      union( project.canRead, project.canWrite ).forEach( _id => this.$store.dispatch( 'getUser', { _id: _id } ) )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.detail-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Project.vue?vue&type=template&id=6d75cb54&scoped=true&\"\nimport script from \"./Project.vue?vue&type=script&lang=js&\"\nexport * from \"./Project.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Project.vue?vue&type=style&index=0&id=6d75cb54&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d75cb54\",\n  null\n  \n)\n\ncomponent.options.__file = \"Project.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=style&index=0&id=6d75cb54&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Project.vue?vue&type=style&index=0&id=6d75cb54&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=style&index=0&id=74ea60bf&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTableProject.vue?vue&type=style&index=0&id=74ea60bf&scoped=true&lang=scss&\"","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=5ba2af08&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=5ba2af08&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=style&index=0&id=fe40c512&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailStreams.vue?vue&type=style&index=0&id=fe40c512&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=style&index=0&id=23956790&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=style&index=0&id=23956790&scoped=true&lang=scss&\"","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=style&index=0&id=ee42a668&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetailTitle.vue?vue&type=style&index=0&id=ee42a668&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-elevation-0 user-search\",attrs:{\"md-with-hover\":\"\"}},[_c('md-card-content',[_c('md-field',{attrs:{\"md-clearable\":\"\"}},[_c('md-icon',[_vm._v(\"search\")]),_c('label',[_vm._v(\"Search for a user to add\")]),_c('md-input',{on:{\"input\":_vm.startSearchUsers},model:{value:(_vm.userSearch),callback:function ($$v) {_vm.userSearch=$$v},expression:\"userSearch\"}})],1),_c('md-progress-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchInProgress),expression:\"searchInProgress\"}],attrs:{\"md-mode\":\"indeterminate\",\"md-diameter\":20,\"md-stroke\":2}}),_c('div',{staticClass:\"md-layout xxxsearch-results xxxmd-elevation-1\"},[_vm._l((_vm.foundUsers),function(user){return (_vm.userSearch!==null && _vm.foundUsers.length > 0)?_c('md-chip',{key:user._id,staticClass:\"md-primary\",staticStyle:{\"margin\":\"3px\"},attrs:{\"md-clickable\":\"\"},on:{\"click\":function($event){_vm.selectUser(user._id)}}},[_vm._v(\"\\n      \"+_vm._s(user.name)+\" \"+_vm._s(user.surname)+\" \"),(user.company)?_c('span',{staticClass:\"md-caption\"},[_vm._v(\"(\"+_vm._s(user.company)+\")\")]):_vm._e()]):_vm._e()}),(_vm.foundUsers.length === 0 && _vm.userSearch!==\"\" && !_vm.searchInProgress)?_c('div',{staticClass:\"md-caption\"},[_vm._v(\"\\n      No users found. Try a different search!\\n    \")]):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card md-with-hover class='md-elevation-0 user-search'>\r\n    <md-card-content>\r\n    <md-field md-clearable>\r\n      <md-icon>search</md-icon>\r\n      <label>Search for a user to add</label>\r\n      <md-input v-model='userSearch' @input='startSearchUsers'></md-input>\r\n    </md-field>\r\n    <md-progress-bar md-mode=\"indeterminate\" :md-diameter='20' :md-stroke='2' v-show='searchInProgress'></md-progress-bar>\r\n    <div class='md-layout xxxsearch-results xxxmd-elevation-1'>\r\n      <md-chip md-clickable class='md-primary' style='margin: 3px;' v-for='user in foundUsers' :key='user._id' v-if='userSearch!==null && foundUsers.length > 0' @click='selectUser(user._id)'>\r\n        {{user.name}} {{user.surname}} <span v-if='user.company' class='md-caption'>({{user.company}})</span>\r\n      </md-chip>\r\n      <div v-if='foundUsers.length === 0 && userSearch!==\"\" && !searchInProgress' class='md-caption'>\r\n        No users found. Try a different search!\r\n      </div>\r\n    </div>\r\n  </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport Axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserSearch',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data( ) {\r\n    return {\r\n      userSearch: '',\r\n      foundUsers: [ ],\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  watch: {\r\n    userSearch( newVal, oldVal ) {\r\n      if ( newVal === '' ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectUser( userId ) {\r\n      this.$emit( 'selected-user', userId )\r\n      let index = this.foundUsers.findIndex( u => u._id === userId )\r\n      this.foundUsers.splice( index, 1 )\r\n    },\r\n    startSearchUsers( ) {\r\n      this.searchInProgress = true\r\n      this.searchUsers( this.userSearch )\r\n    },\r\n    searchUsers: debounce( function( searchString ) {\r\n      if ( searchString === '' ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n      }\r\n      if ( searchString.length < 3 ) {\r\n        // TODO: Show an error\r\n        return\r\n      }\r\n      Axios.post( '/accounts/search', { searchString: searchString } )\r\n        .then( res => {\r\n          console.log( res )\r\n          this.foundUsers = res.data.resources\r\n          // build up a db of users\r\n          if ( res.data.resources.length > 0 )\r\n            this.$store.commit( 'ADD_USERS', res.data.resources )\r\n          this.searchInProgress = false\r\n        } )\r\n        .catch( err => {\r\n          this.foundUsers = [ ]\r\n          this.searchInProgress = false\r\n        } )\r\n    }, 1500 )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.user-search {\r\n  border-radius: 10px;\r\n  @media only screen and (max-width: 600px) {\r\n    margin: 0 !important;\r\n  }\r\n}\r\n.search-results {\r\n  position: absolute;\r\n  background-color: white;\r\n  z-index: 40;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n.user-list {\r\n  margin-bottom: 5px;\r\n  padding: 5px;\r\n}\r\n\r\n.user-list:hover {\r\n  background-color: #F4F4F4;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSearch.vue?vue&type=template&id=5ba2af08&scoped=true&\"\nimport script from \"./UserSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSearch.vue?vue&type=style&index=0&id=5ba2af08&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba2af08\",\n  null\n  \n)\n\ncomponent.options.__file = \"UserSearch.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.resource)?_c('md-card',{staticClass:\"md-elevation-3\"},[_c('md-card-header',{staticClass:\"bg-ghost-white\"},[_c('md-card-header-text',[_c('div',{staticClass:\"md-title\"},[_vm._v(\"Description\")]),_c('div',{staticClass:\"md-caption\"},[_vm._v(\"What this \"+_vm._s(_vm.isStream ? \"stream\" : \"project\")+\" is about.\")])])],1),_c('md-card-content',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editDescription),expression:\"!editDescription\"}]},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.compiledDescription)}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editDescription),expression:\"editDescription\"}]},[_c('div',{staticClass:\"md-caption\"},[_vm._v(\"\\n      Supports \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://en.wikipedia.org/wiki/Markdown#Example\"}},[_vm._v(\"markdown:\")]),_c('strong',[_vm._v(\" ** bold **\")]),_vm._v(\", \"),_c('i',[_vm._v(\"* italic *\")]),_vm._v(\", \"),_c('code',[_vm._v(\"# Heading 1\")]),_vm._v(\", \"),_c('code',[_vm._v(\"## Heading 2\")]),_vm._v(\", \"),_c('code',[_vm._v(\"[links](http://example.com)\")]),_vm._v(\", etc.\")]),_c('md-field',[_c('md-textarea',{model:{value:(_vm.resource.description),callback:function ($$v) {_vm.$set(_vm.resource, \"description\", $$v)},expression:\"resource.description\"}})],1)],1)]),_c('md-card-actions',[(_vm.editDescription===false && _vm.canEdit)?_c('md-button',{staticClass:\"md-primary\",nativeOn:{\"click\":function($event){_vm.editDescription=true}}},[_vm._v(\"Edit description\")]):_vm._e(),(_vm.editDescription===true)?_c('md-button',{staticClass:\"md-primary\",nativeOn:{\"click\":function($event){return _vm.updateDescription($event)}}},[_vm._v(\"Done\")]):_vm._e()],1),(_vm.resource.baseProperties)?_c('md-card-content',{staticClass:\"md-caption\"},[_c('span',[_c('strong',[_vm._v(\"Units:\")]),_vm._v(\" \"+_vm._s(_vm.resource.baseProperties.units ? _vm.resource.baseProperties.units : 'no units specified'))]),_vm._v(\";\\n    \"),_c('span',[_c('strong',[_vm._v(\"Tolerance:\")]),_vm._v(\" \"+_vm._s(_vm.resource.baseProperties.tolerance ? _vm.resource.baseProperties.tolerance : 'no tolerance specified'))]),_vm._v(\".\\n  \")]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card v-if='resource' class='md-elevation-3'>\r\n    <md-card-header class='bg-ghost-white'>\r\n      <md-card-header-text>\r\n        <div class=\"md-title\">Description</div>\r\n        <div class=\"md-caption\">What this {{isStream ? \"stream\" : \"project\"}} is about.</div>\r\n      </md-card-header-text>\r\n    </md-card-header>\r\n    <md-card-content>\r\n      <div v-show='!editDescription'>\r\n        <div v-html='compiledDescription'></div>\r\n      </div>\r\n      <div v-show='editDescription'>\r\n        <div class=\"md-caption\">\r\n        Supports <a class='' target=\"_blank\" href='https://en.wikipedia.org/wiki/Markdown#Example'>markdown:</a><strong> ** bold **</strong>, <i>* italic *</i>, <code># Heading 1</code>, <code>## Heading 2</code>, <code>[links](http://example.com)</code>, etc.</div>\r\n        <md-field>\r\n          <md-textarea v-model=\"resource.description\"></md-textarea>\r\n        </md-field>\r\n      </div>\r\n    </md-card-content>\r\n    <md-card-actions>\r\n      <md-button class='md-primary' v-if='editDescription===false && canEdit' @click.native='editDescription=true'>Edit description</md-button>\r\n      <md-button class='md-primary' v-if='editDescription===true' @click.native='updateDescription'>Done</md-button>\r\n    </md-card-actions>\r\n    <md-card-content class='md-caption' v-if='resource.baseProperties'>\r\n      <span><strong>Units:</strong> {{resource.baseProperties.units ? resource.baseProperties.units : 'no units specified'}}</span>;\r\n      <span><strong>Tolerance:</strong> {{resource.baseProperties.tolerance ? resource.baseProperties.tolerance : 'no tolerance specified'}}</span>.\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport marked from 'marked'\r\n\r\nexport default {\r\n  name: 'DetailDescription',\r\n  props: {\r\n    resource: Object,\r\n  },\r\n  computed: {\r\n    compiledDescription( ) {\r\n      return marked( this.resource.description, { sanitize: true } )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.resource.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.resource.owner === this.$store.state.user._id\r\n    },\r\n    isStream( ) {\r\n      return this.resource.hasOwnProperty( 'streamId' )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      editDescription: false\r\n    }\r\n  },\r\n  methods: {\r\n    updateDescription( ) {\r\n      this.editDescription = false\r\n      if ( this.isStream )\r\n        this.$store.dispatch( 'updateStream', { streamId: this.resource.streamId, description: this.resource.description } )\r\n      else\r\n        this.$store.dispatch( 'updateProject', { _id: this.resource._id, description: this.resource.description})\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.md-field {\r\n  padding-top: 0px;\r\n}\r\n\r\n.md-field .md-textarea {\r\n  min-height: 420px !important;\r\n  max-height: 420px !important;\r\n  font-size: 14px !important;\r\n  font-family: monospace;\r\n  padding: 10px !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailDescription.vue?vue&type=template&id=5c77723a&scoped=true&\"\nimport script from \"./DetailDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailDescription.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailDescription.vue?vue&type=style&index=0&id=5c77723a&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c77723a\",\n  null\n  \n)\n\ncomponent.options.__file = \"DetailDescription.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=style&index=0&id=5c77723a&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailDescription.vue?vue&type=style&index=0&id=5c77723a&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=style&index=0&id=45a6e80e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamCardSmall.vue?vue&type=style&index=0&id=45a6e80e&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-elevation-0 stream-search\",attrs:{\"md-with-hover\":\"\"}},[_c('md-card-content',[_c('md-field',{attrs:{\"md-clearable\":\"\"}},[_c('md-icon',[_vm._v(\"search\")]),_c('md-input',{attrs:{\"spellcheck\":\"false\",\"disabled\":_vm.globalDisabled},on:{\"input\":_vm.updateSearch},model:{value:(_vm.searchfilter),callback:function ($$v) {_vm.searchfilter=$$v},expression:\"searchfilter\"}}),_c('label',[_vm._v(\"Search for a stream to add\")])],1),_c('md-progress-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchInProgress),expression:\"searchInProgress\"}],attrs:{\"md-mode\":\"indeterminate\",\"md-diameter\":20,\"md-stroke\":2}}),(_vm.showSearchResults)?_c('div',{staticClass:\"search-results\"},[_vm._l((_vm.paginatedStreams),function(stream){return (_vm.filters.length > 0)?_c('md-chip',{key:stream.streamId,staticClass:\"md-primary\",staticStyle:{\"margin\":\"3px\"},attrs:{\"md-clickable\":\"\"},on:{\"click\":function($event){_vm.selectStream(stream.streamId)}}},[_c('strong',[_vm._v(_vm._s(stream.name))]),_vm._v(\" \"+_vm._s(stream.streamId)+\" \"),_vm._l((stream.tags),function(tag){return (stream.tags)?_c('span',{staticStyle:{\"background\":\"#0B5DE8\",\"border-radius\":\"3px\",\"margin-right\":\"4px\",\"padding\":\"1px\"}},[_vm._v(\" \"+_vm._s(tag)+\" \")]):_vm._e()})],2):_vm._e()}),(_vm.paginatedStreams.length === 0)?_c('p',{staticClass:\"md-caption\"},[_vm._v(\"No streams found. Existing streams ignored.\")]):_vm._e()],2):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card md-with-hover class='md-elevation-0 stream-search'>\r\n    <md-card-content>\r\n      <md-field md-clearable>\r\n        <md-icon>search</md-icon>\r\n        <md-input @input=\"updateSearch\" v-model='searchfilter' spellcheck=\"false\" :disabled='globalDisabled'></md-input>\r\n        <label>Search for a stream to add</label>\r\n      </md-field>\r\n      <md-progress-bar md-mode=\"indeterminate\" :md-diameter='20' :md-stroke='2' v-show='searchInProgress'></md-progress-bar>\r\n      <div class='search-results' v-if='showSearchResults'>\r\n        <md-chip md-clickable class='md-primary' style='margin: 3px;' v-for='stream in paginatedStreams' v-if='filters.length > 0' :key='stream.streamId' @click='selectStream(stream.streamId)'>\r\n          <strong>{{stream.name}}</strong> {{stream.streamId}} </span>\r\n          <!-- <span v-if='stream.tags'> | </span> -->\r\n          <span v-for='tag in stream.tags' v-if='stream.tags' style=\"background: #0B5DE8; border-radius:3px; margin-right:4px; padding:1px\"> {{tag}} </span>\r\n        </md-chip>\r\n        <p v-if='paginatedStreams.length === 0' class=\"md-caption\">No streams found. Existing streams ignored.</p>\r\n      </div>\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\n\r\nexport default {\r\n  name: 'StreamSearch',\r\n  props: {\r\n    streamsToOmit: {\r\n      type: Array,\r\n      default ( ) { return [ ] }\r\n    },\r\n    globalDisabled: {\r\n      type:Boolean,\r\n      default: false\r\n    },\r\n    writeOnly: Boolean\r\n  },\r\n  computed: {\r\n    filteredStreams( ) {\r\n      return this.$store.getters.filteredStreams( this.filters ).filter( s => this.streamsToOmit.indexOf( s.streamId ) === -1 )\r\n    },\r\n    paginatedStreams( ) {\r\n      let toReturn = this.filteredStreams.slice( this.startIndex, this.endIndex )\r\n      if( this.writeOnly )\r\n        toReturn = toReturn.filter( s => s.owner === this.$store.state.user._id || s.canWrite.indexOf( this.$store.state.user._id ) > -1 )\r\n      return toReturn\r\n    }\r\n  },\r\n  watch: {\r\n    searchfilter( val ) {\r\n      if ( val === '' ) {\r\n        this.showSearchResults = false\r\n        this.searchInProgress = false\r\n      } else\r\n        this.searchInProgress = true\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      searchfilter: '',\r\n      filters: [ ],\r\n      showSearchResults: false,\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  methods: {\r\n    selectStream( streamId ) {\r\n      this.$emit( 'selected-stream', streamId )\r\n    },\r\n    updateSearch: debounce( function( e ) {\r\n      this.searchfilter = e\r\n\r\n      if ( e === '' ) {\r\n        this.showSearchResults = false\r\n        return\r\n      }\r\n      this.showSearchResults = true\r\n      this.searchInProgress = false\r\n      try {\r\n        let filters = this.searchfilter.split( ' ' ).map( t => {\r\n          if ( t.includes( ':' ) )\r\n            return { key: t.split( ':' )[ 0 ], value: t.split( ':' )[ 1 ] }\r\n          else if ( !t.includes( 'public' ) && !t.includes( 'private' ) && !t.includes( 'mine' ) && !t.includes( 'shared' ) ) // TODO: not elegant\r\n            return { key: 'name', value: t }\r\n          else\r\n            return { key: t, value: null }\r\n        } )\r\n        this.filters = filters\r\n      } catch {\r\n        this.filters = [ { key: 'name', value: e } ]\r\n      }\r\n    }, 1000 ),\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.stream-search {\r\n  border-radius: 10px;\r\n}\r\n.search-results {\r\n/*  position: absolute;\r\n  background: white;\r\n  width: 100%;\r\n  padding:32px;*/\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamSearch.vue?vue&type=template&id=23956790&scoped=true&\"\nimport script from \"./StreamSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamSearch.vue?vue&type=style&index=0&id=23956790&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23956790\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamSearch.vue\"\nexport default component.exports"],"sourceRoot":""}