{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/components/StreamDetailUserPerms.vue?6248","webpack:///./src/components/UserSearch.vue?f964","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/PermissionTable.vue?7300","webpack:///./src/views/StreamSharing.vue?eb05","webpack:///src/views/StreamSharing.vue","webpack:///./src/views/StreamSharing.vue?689f","webpack:///./src/views/StreamSharing.vue","webpack:///./src/components/UserSearch.vue?b165","webpack:///src/components/UserSearch.vue","webpack:///./src/components/UserSearch.vue?29b2","webpack:///./src/components/UserSearch.vue","webpack:///./src/views/StreamSharing.vue?2552","webpack:///./src/components/StreamDetailUserPerms.vue?ce8b","webpack:///./src/components/PermissionTable.vue?fa17","webpack:///src/components/PermissionTable.vue","webpack:///./src/components/PermissionTable.vue?a74e","webpack:///./src/components/PermissionTable.vue","webpack:///src/components/StreamDetailUserPerms.vue","webpack:///./src/components/StreamDetailUserPerms.vue?606f","webpack:///./src/components/StreamDetailUserPerms.vue"],"names":["fails","__webpack_require__","module","exports","method","arg","call","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamDetailUserPerms_vue_vue_type_style_index_0_id_5e8786ac_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamDetailUserPerms_vue_vue_type_style_index_0_id_5e8786ac_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_5ba2af08_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_UserSearch_vue_vue_type_style_index_0_id_5ba2af08_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTable_vue_vue_type_style_index_0_id_d7fd35ae_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PermissionTable_vue_vue_type_style_index_0_id_d7fd35ae_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","attrs","stream","staticRenderFns","StreamSharingvue_type_script_lang_js_","name","components","StreamDetailUserPerms","computed","_this","$store","state","streams","find","s","streamId","$route","params","canEdit","isOwner","canWrite","indexOf","user","_id","owner","data","methods","views_StreamSharingvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","staticClass","md-with-hover","md-clearable","_v","on","input","startSearchUsers","model","value","callback","$$v","userSearch","expression","directives","rawName","md-mode","md-diameter","md-stroke","_l","foundUsers","length","key","staticStyle","margin","md-clickable","click","$event","selectUser","_s","surname","company","_e","searchInProgress","UserSearchvue_type_script_lang_js_","props","msg","String","watch","newVal","oldVal","userId","$emit","index","findIndex","u","splice","searchUsers","lodash_debounce_default","searchString","axios_default","a","post","then","res","console","log","resources","commit","catch","err","components_UserSearchvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSharing_vue_vue_type_style_index_0_id_dbf16cc8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StreamSharing_vue_vue_type_style_index_0_id_dbf16cc8_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","class","md-raised","md-primary","private","disabled","nativeOn","changeLinkSharing","streamOwner","margin-top","streamProjects","proj","to","selected-user","addUserToWrite","resource","disabled-users","usersFromProjects","global-disabled","update-table","updatePerms","PermissionTablevue_type_template_id_d7fd35ae_scoped_true_render","allUsersPop","md-layout md-alignment-center-left user","bg-ghost-white","style","background","getHexFromString","substring","toUpperCase","md-dense md-raised","hasWritePermission","includes","globalDisabled","isDisabled","changePermission","removeUser","PermissionTablevue_type_template_id_d7fd35ae_scoped_true_staticRenderFns","PermissionTablevue_type_script_lang_js_","type","Boolean","default","disabledUsers","Array","canRead","toConsumableArray","concat","allUsers","lodash_union_default","map","users","dispatch","b","localCanWrite","localCanRead","filter","uId","lodash_uniq_default","mounted","components_PermissionTablevue_type_script_lang_js_","PermissionTable","StreamDetailUserPermsvue_type_script_lang_js_","UserSearch","_Array$prototype","_Array$prototype2","_this2","otherProjects","projects","p","otherCanRead","prototype","apply","op","permissions","otherCanWrite","Set","_this3","_ref","components_StreamDetailUserPermsvue_type_script_lang_js_","StreamDetailUserPerms_component"],"mappings":"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","file":"js/chunk-4453d422.cce0c337.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=style&index=0&id=5e8786ac&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=style&index=0&id=5e8786ac&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=5ba2af08&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=style&index=0&id=5ba2af08&scoped=true&lang=scss&\"","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=style&index=0&id=d7fd35ae&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=style&index=0&id=d7fd35ae&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('stream-detail-user-perms',{attrs:{\"stream\":_vm.stream}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <stream-detail-user-perms :stream='stream'></stream-detail-user-perms>\r\n  </div>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport union from 'lodash.union'\r\n\r\nimport StreamDetailUserPerms from '../components/StreamDetailUserPerms.vue'\r\n\r\nexport default {\r\n  name: 'StreamEditView',\r\n  components: {\r\n    StreamDetailUserPerms\r\n  },\r\n  computed: {\r\n    stream( ) {\r\n      return this.$store.state.streams.find( s => s.streamId === this.$route.params.streamId )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.stream.owner === this.$store.state.user._id\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.detail-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.md-content {\r\n  padding: 30px;\r\n  display: inline-flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.md-card-content {\r\n  padding: 0;\r\n}\r\n\r\na:hover {\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamSharing.vue?vue&type=template&id=dbf16cc8&scoped=true&\"\nimport script from \"./StreamSharing.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamSharing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamSharing.vue?vue&type=style&index=0&id=dbf16cc8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dbf16cc8\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamSharing.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-elevation-0 user-search\",attrs:{\"md-with-hover\":\"\"}},[_c('md-card-content',[_c('md-field',{attrs:{\"md-clearable\":\"\"}},[_c('md-icon',[_vm._v(\"search\")]),_c('label',[_vm._v(\"Search for a user to add\")]),_c('md-input',{on:{\"input\":_vm.startSearchUsers},model:{value:(_vm.userSearch),callback:function ($$v) {_vm.userSearch=$$v},expression:\"userSearch\"}})],1),_c('md-progress-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchInProgress),expression:\"searchInProgress\"}],attrs:{\"md-mode\":\"indeterminate\",\"md-diameter\":20,\"md-stroke\":2}}),_c('div',{staticClass:\"md-layout xxxsearch-results xxxmd-elevation-1\"},[_vm._l((_vm.foundUsers),function(user){return (_vm.userSearch!==null && _vm.foundUsers.length > 0)?_c('md-chip',{key:user._id,staticClass:\"md-primary\",staticStyle:{\"margin\":\"3px\"},attrs:{\"md-clickable\":\"\"},on:{\"click\":function($event){_vm.selectUser(user._id)}}},[_vm._v(\"\\n      \"+_vm._s(user.name)+\" \"+_vm._s(user.surname)+\" \"),(user.company)?_c('span',{staticClass:\"md-caption\"},[_vm._v(\"(\"+_vm._s(user.company)+\")\")]):_vm._e()]):_vm._e()}),(_vm.foundUsers.length === 0 && _vm.userSearch!==\"\" && !_vm.searchInProgress)?_c('div',{staticClass:\"md-caption\"},[_vm._v(\"\\n      No users found. Try a different search!\\n    \")]):_vm._e()],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card md-with-hover class='md-elevation-0 user-search'>\r\n    <md-card-content>\r\n    <md-field md-clearable>\r\n      <md-icon>search</md-icon>\r\n      <label>Search for a user to add</label>\r\n      <md-input v-model='userSearch' @input='startSearchUsers'></md-input>\r\n    </md-field>\r\n    <md-progress-bar md-mode=\"indeterminate\" :md-diameter='20' :md-stroke='2' v-show='searchInProgress'></md-progress-bar>\r\n    <div class='md-layout xxxsearch-results xxxmd-elevation-1'>\r\n      <md-chip md-clickable class='md-primary' style='margin: 3px;' v-for='user in foundUsers' :key='user._id' v-if='userSearch!==null && foundUsers.length > 0' @click='selectUser(user._id)'>\r\n        {{user.name}} {{user.surname}} <span v-if='user.company' class='md-caption'>({{user.company}})</span>\r\n      </md-chip>\r\n      <div v-if='foundUsers.length === 0 && userSearch!==\"\" && !searchInProgress' class='md-caption'>\r\n        No users found. Try a different search!\r\n      </div>\r\n    </div>\r\n  </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport Axios from 'axios'\r\n\r\nexport default {\r\n  name: 'UserSearch',\r\n  props: {\r\n    msg: String\r\n  },\r\n  data( ) {\r\n    return {\r\n      userSearch: '',\r\n      foundUsers: [ ],\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  watch: {\r\n    userSearch( newVal, oldVal ) {\r\n      if ( newVal === '' ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectUser( userId ) {\r\n      this.$emit( 'selected-user', userId )\r\n      let index = this.foundUsers.findIndex( u => u._id === userId )\r\n      this.foundUsers.splice( index, 1 )\r\n    },\r\n    startSearchUsers( ) {\r\n      this.searchInProgress = true\r\n      this.searchUsers( this.userSearch )\r\n    },\r\n    searchUsers: debounce( function( searchString ) {\r\n      if ( searchString === '' ) {\r\n        this.foundUsers = [ ]\r\n        this.searchInProgress = false\r\n      }\r\n      if ( searchString.length < 3 ) {\r\n        // TODO: Show an error\r\n        return\r\n      }\r\n      Axios.post( '/accounts/search', { searchString: searchString } )\r\n        .then( res => {\r\n          console.log( res )\r\n          this.foundUsers = res.data.resources\r\n          // build up a db of users\r\n          if ( res.data.resources.length > 0 )\r\n            this.$store.commit( 'ADD_USERS', res.data.resources )\r\n          this.searchInProgress = false\r\n        } )\r\n        .catch( err => {\r\n          this.foundUsers = [ ]\r\n          this.searchInProgress = false\r\n        } )\r\n    }, 1500 )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.user-search {\r\n  border-radius: 10px;\r\n  @media only screen and (max-width: 600px) {\r\n    margin: 0 !important;\r\n  }\r\n}\r\n.search-results {\r\n  position: absolute;\r\n  background-color: white;\r\n  z-index: 40;\r\n  padding: 10px;\r\n  box-sizing: border-box;\r\n}\r\n.user-list {\r\n  margin-bottom: 5px;\r\n  padding: 5px;\r\n}\r\n\r\n.user-list:hover {\r\n  background-color: #F4F4F4;\r\n  cursor: pointer;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSearch.vue?vue&type=template&id=5ba2af08&scoped=true&\"\nimport script from \"./UserSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSearch.vue?vue&type=style&index=0&id=5ba2af08&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba2af08\",\n  null\n  \n)\n\ncomponent.options.__file = \"UserSearch.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=style&index=0&id=dbf16cc8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamSharing.vue?vue&type=style&index=0&id=dbf16cc8&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{staticClass:\"md-elevation-3\"},[_c('md-card-content',{staticClass:\"bg-ghost-white\"},[_c('div',{staticClass:\"md-layout md-alignment-center-center\"},[_c('div',{staticClass:\"md-layout-item md-title md-size-70\"},[_vm._v(\"Link Sharing\")]),_c('div',{staticClass:\"md-layout-item md-title md-size-30 text-right\"},[_c('md-button',{class:{ \"md-raised\": true, \"md-primary\" : !_vm.stream.private },attrs:{\"disabled\":!_vm.canEdit},nativeOn:{\"click\":function($event){return _vm.changeLinkSharing($event)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.stream.private ? \"OFF\" : \"ON\")+\"\\n        \")])],1),_c('div',{staticClass:\"md-layout-item md-size-100 md-caption\"},[_vm._v(\"\\n        \"+_vm._s(_vm.stream.private ? \"Private resource. Only people with read or write persmissions can access it.\" : \"Public resource. Anyone with the id can access it.\")+\"\\n        \"),(_vm.isOwner)?_c('span',{staticClass:\"md-layout-item md-size-100 md-caption\"},[_vm._v(\"\\n        You are the \"),_c('strong',[_vm._v(\"owner\")]),_vm._v(\" of this stream.\\n      \")]):_c('span',{staticClass:\"md-layout-item md-size-100 md-caption\"},[_vm._v(\"\\n        This stream was shared with you by \"),_c('strong',[_vm._v(_vm._s(_vm.streamOwner)+\".\")])])])])]),_c('md-card-content',{staticClass:\"bg-ghost-white\"},[_c('div',{staticClass:\"md-layout\"},[_c('div',{staticClass:\"md-layout-item md-size-100\",staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"md-title\"},[_vm._v(\"Permissions\")]),(_vm.canEdit)?_c('p',{staticClass:\"md-caption\"},[(_vm.streamProjects.length>0)?_c('span',[_vm._v(\"Some users might be disabled as their permissions are set through the following projects: \"),_vm._l((_vm.streamProjects),function(proj,index){return _c('router-link',{key:proj._id,attrs:{\"to\":\"/projects/\"+proj._id}},[_vm._v(_vm._s(proj.name)),(index<_vm.streamProjects.length-1)?_c('span',[_vm._v(\", \")]):_vm._e()])})],2):_c('span',[_vm._v(\"Add or remove users below.\")])]):_c('p',{staticClass:\"md-caption\"},[_vm._v(\"You cannot edit the permissions of this stream.\")])])])]),_c('md-card-content',[_c('div',{staticClass:\"md-layout\"},[_c('div',{staticClass:\"md-layout-item md-size-100\",staticStyle:{\"margin-top\":\"0px\"}},[(_vm.canEdit)?_c('user-search',{on:{\"selected-user\":_vm.addUserToWrite}}):_vm._e(),_c('permission-table',{attrs:{\"resource\":_vm.stream,\"disabled-users\":_vm.usersFromProjects,\"global-disabled\":!_vm.canEdit},on:{\"update-table\":_vm.updatePerms}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{},[(_vm.allUsersPop.length === 0)?_c('div',[_vm._v(\"\\n      No sharing buddies so far!\\n    \")]):_vm._e(),_vm._l((_vm.allUsersPop),function(user){return (user)?_c('div',{class:{ \"md-layout md-alignment-center-left user\":true, \"bg-ghost-white\": user.isOwner}},[_c('div',{staticClass:\"md-layout-item md-size-10 md-small-hide\"},[_c('md-avatar',{staticClass:\"md-avatar-icon md-small\",style:({ \"background\" : _vm.getHexFromString( user.name ) })},[_vm._v(_vm._s(user.name.substring(0,1).toUpperCase()))])],1),_c('div',{staticClass:\"md-layout-item md-size-40 md-xsmall-size-100\"},[_vm._v(\"\\n        \"+_vm._s(user.name)+\" \"+_vm._s(user.surname)+\" \"),(user.company)?_c('span',{staticClass:\"md-caption\"},[_vm._v(\"(\"+_vm._s(user.company)+\")\")]):_vm._e(),_vm._v(\" \"),(user.isOwner)?_c('span',[_c('strong',[_vm._v(\"owner\")])]):_vm._e()]),_c('div',{staticClass:\"md-layout-item text-right text-center-small\"},[_c('md-button',{class:{ \"md-dense md-raised\": true, \"md-primary\" : _vm.hasWritePermission(user._id)},attrs:{\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.isDisabled(user._id)},nativeOn:{\"click\":function($event){_vm.changePermission(user._id)}}},[_vm._v(_vm._s(_vm.hasWritePermission(user._id) ? \"write\" : \"read\"))]),_c('md-button',{staticClass:\"md-dense-xxx md-icon-button md-accent\",attrs:{\"disabled\":user.surname.includes(\"(that is you!)\") || _vm.globalDisabled || _vm.isDisabled(user._id)},nativeOn:{\"click\":function($event){_vm.removeUser(user._id)}}},[_c('md-icon',[_vm._v(\"delete\")])],1)],1),_c('div',{staticClass:\"md-layout-item md-size-100\"})]):_vm._e()})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=''>\r\n      <div v-if='allUsersPop.length === 0'>\r\n        No sharing buddies so far!\r\n      </div>\r\n      <div :class='{ \"md-layout md-alignment-center-left user\":true, \"bg-ghost-white\": user.isOwner}' v-for='user in allUsersPop' v-if='user'>\r\n        <div class=\"md-layout-item md-size-10 md-small-hide\">\r\n          <md-avatar class=\"md-avatar-icon md-small\" :style='{ \"background\" : getHexFromString( user.name ) }'>{{user.name.substring(0,1).toUpperCase()}}</md-avatar>\r\n        </div>\r\n        <div class=\"md-layout-item md-size-40 md-xsmall-size-100\">\r\n          {{user.name}} {{user.surname}}&nbsp<span v-if='user.company' class='md-caption'>({{user.company}})</span>&nbsp<span v-if='user.isOwner'><strong>owner</strong> </span>\r\n        </div>\r\n        <div class=\"md-layout-item text-right text-center-small\">\r\n          <md-button :class='{ \"md-dense md-raised\": true, \"md-primary\" : hasWritePermission(user._id)}' @click.native='changePermission(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || isDisabled(user._id)'>{{hasWritePermission(user._id) ? \"write\" : \"read\"}}</md-button>\r\n          <md-button class='md-dense-xxx md-icon-button md-accent' @click.native='removeUser(user._id)' :disabled='user.surname.includes(`(that is you!)`) || globalDisabled || isDisabled(user._id)'>\r\n            <md-icon>delete</md-icon>\r\n          </md-button>\r\n        </div>\r\n        <div class=\"md-layout-item md-size-100\">\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport union from 'lodash.union'\r\nimport uniq from 'lodash.uniq'\r\n\r\nexport default {\r\n  name: 'PermissionTable',\r\n  props: {\r\n    resource: Object,\r\n    globalDisabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabledUsers: {\r\n      type: Array,\r\n      default: ( ) => [ ]\r\n    }\r\n  },\r\n  computed: {\r\n    canRead( ) { return [ ...this.resource.canRead, this.resource.owner ] },\r\n    canWrite( ) { return [...this.resource.canWrite, , this.resource.owner ] },\r\n    allUsers( ) {\r\n      return union( this.canRead, this.canWrite, [ this.resource.owner ] )\r\n    },\r\n    allUsersPop( ) {\r\n      if ( this.allUsers.length === 0 ) return [ ]\r\n      return this.allUsers.map( userId => {\r\n        let u = this.$store.state.users.find( user => user._id === userId )\r\n        if ( !u ) this.$store.dispatch( 'getUser', { _id: userId } )\r\n        if ( u ) u.isOwner = u._id === this.resource.owner\r\n        return u\r\n      } ).sort( ( a, b ) => a.name > b.name ? 1 : -1 )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {}\r\n  },\r\n  methods: {\r\n    isDisabled( _id ) {\r\n      return this.disabledUsers.indexOf( _id ) > -1\r\n    },\r\n    hasWritePermission( _id ) {\r\n      return this.canWrite.indexOf( _id ) > -1\r\n    },\r\n    changePermission( _id ) {\r\n      let localCanWrite = [ ],\r\n        localCanRead = [ ]\r\n\r\n      // check in which perm cat the user is right now\r\n      let index = this.canWrite.indexOf( _id )\r\n\r\n      // canWrite -> canRead\r\n      if ( index > -1 ) {\r\n        localCanWrite = this.canWrite.filter( uId => uId !== _id )\r\n        localCanRead = uniq( [ ...this.canRead, _id ] )\r\n        // this.$emit('move-user')\r\n        // TODO: this.$emit('move-user', { userId:x, from:'W->R' }) // for projects\r\n        // canRead -> canWrite\r\n      } else {\r\n        localCanRead = this.canRead.filter( uId => uId !== _id )\r\n        localCanWrite = uniq( [ ...this.canWrite, _id ] )\r\n        // TODO: this.$emit('move-user', { userId:x, from:'R->W' }) // for projects\r\n      }\r\n\r\n      // emit one global event\r\n      this.$emit( 'update-table', { canRead: localCanRead, canWrite: localCanWrite } )\r\n    },\r\n    removeUser( _id ) {\r\n      let localCanWrite = this.canWrite.filter( uId => uId !== _id )\r\n      let localCanRead = this.canRead.filter( uId => uId !== _id )\r\n      this.$emit( 'remove-user', { userId: _id } )\r\n      this.$emit( 'update-table', { canRead: localCanRead, canWrite: localCanWrite } )\r\n    }\r\n  },\r\n  mounted( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.user {\r\n  padding: 2px 10px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PermissionTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PermissionTable.vue?vue&type=template&id=d7fd35ae&scoped=true&\"\nimport script from \"./PermissionTable.vue?vue&type=script&lang=js&\"\nexport * from \"./PermissionTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PermissionTable.vue?vue&type=style&index=0&id=d7fd35ae&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7fd35ae\",\n  null\n  \n)\n\ncomponent.options.__file = \"PermissionTable.vue\"\nexport default component.exports","<template>\r\n  <md-card class='md-elevation-3'>\r\n    <md-card-content class='bg-ghost-white'>\r\n      <div class=\"md-layout md-alignment-center-center\">\r\n        <div class=\"md-layout-item md-title md-size-70\">Link Sharing</div>\r\n        <div class=\"md-layout-item md-title md-size-30 text-right\">\r\n          <md-button :class='{ \"md-raised\": true, \"md-primary\" : !stream.private }' @click.native='changeLinkSharing' :disabled='!canEdit'>\r\n            {{stream.private ? \"OFF\" : \"ON\"}}\r\n          </md-button>\r\n        </div>\r\n        <div class='md-layout-item md-size-100 md-caption'>\r\n          {{ stream.private ? \"Private resource. Only people with read or write persmissions can access it.\" : \"Public resource. Anyone with the id can access it.\"}}\r\n          <span class='md-layout-item md-size-100 md-caption' v-if='isOwner'>\r\n          You are the <strong>owner</strong> of this stream.\r\n        </span>\r\n          <span class='md-layout-item md-size-100 md-caption' v-else>\r\n          This stream was shared with you by <strong>{{streamOwner}}.</strong>\r\n        </span></div>\r\n      </div>\r\n    </md-card-content>\r\n    <md-card-content class='bg-ghost-white'>\r\n      <div class=\"md-layout\">\r\n        <div class='md-layout-item md-size-100' style=\"margin-top:20px;\">\r\n          <div class=\"md-title\">Permissions</div>\r\n          <p class='md-caption' v-if='canEdit'>\r\n            <span v-if='streamProjects.length>0'>Some users might be disabled as their permissions are set through the following projects: <router-link v-for='(proj, index) in streamProjects' :to='\"/projects/\"+proj._id' :key='proj._id'>{{proj.name}}<span v-if='index<streamProjects.length-1'>, </span></router-link></span>\r\n            <span v-else>Add or remove users below.</span>\r\n          </p>\r\n          <p class='md-caption' v-else>You cannot edit the permissions of this stream.</p>\r\n        </div>\r\n      </div>\r\n    </md-card-content>\r\n    <md-card-content>\r\n      <div class=\"md-layout\">\r\n        <div class='md-layout-item md-size-100' style=\"margin-top:0px;\">\r\n          <user-search v-on:selected-user='addUserToWrite' v-if='canEdit'></user-search>\r\n          <permission-table :resource='stream' :disabled-users='usersFromProjects' :global-disabled='!canEdit' v-on:update-table='updatePerms'></permission-table>\r\n        </div>\r\n      </div>\r\n    </md-card-content>\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport uniq from 'lodash.uniq'\r\nimport Axios from 'axios'\r\n\r\nimport UserSearch from './UserSearch.vue'\r\nimport PermissionTable from './PermissionTable.vue'\r\n\r\nexport default {\r\n  name: 'StreamDetailUserPerms',\r\n  components: {\r\n    UserSearch,\r\n    PermissionTable\r\n  },\r\n  props: {\r\n    stream: Object\r\n  },\r\n  computed: {\r\n    streamOwner( ) {\r\n      if ( this.isOwner ) return `${this.$store.state.user.name} ${this.$store.state.user.surname}`\r\n      let owner = this.$store.state.users.find( user => user._id === this.stream.owner )\r\n      if ( !owner ) return '(loading)'\r\n      return `${owner.name} ${owner.surname} ${owner.company ? \"(\" + owner.company + \")\" : ''}`\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.stream.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.stream.owner === this.$store.state.user._id\r\n    },\r\n    usersFromProjects( ) {\r\n      let otherProjects = this.$store.state.projects.filter( p => p.streams.indexOf( this.stream.streamId ) !== -1 )\r\n      let otherCanRead = Array.prototype.concat( ...otherProjects.map( op => op.permissions.canRead ) )\r\n      let otherCanWrite = Array.prototype.concat( ...otherProjects.map( op => op.permissions.canWrite ) )\r\n      return [ ...new Set( [ ...otherCanWrite, ...otherCanRead ] ) ]\r\n    },\r\n    streamProjects( ) {\r\n      return this.$store.state.projects.filter( p => p.streams.indexOf( this.stream.streamId ) !== -1 )\r\n    }\r\n\r\n  },\r\n  data( ) {\r\n    return {\r\n      userSearch: '',\r\n      foundUsers: [ ],\r\n      searchInProgress: false\r\n    }\r\n  },\r\n  methods: {\r\n    changeLinkSharing( ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, private: !this.stream.private } )\r\n    },\r\n    addUserToWrite( userId ) {\r\n      let canWrite = uniq( [ ...this.stream.canWrite, userId ] )\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, canWrite: canWrite } )\r\n    },\r\n    updatePerms( { canRead, canWrite } ) {\r\n      this.$store.dispatch( 'updateStream', { streamId: this.stream.streamId, canRead: canRead, canWrite: canWrite } )\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StreamDetailUserPerms.vue?vue&type=template&id=5e8786ac&scoped=true&\"\nimport script from \"./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"\nexport * from \"./StreamDetailUserPerms.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StreamDetailUserPerms.vue?vue&type=style&index=0&id=5e8786ac&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e8786ac\",\n  null\n  \n)\n\ncomponent.options.__file = \"StreamDetailUserPerms.vue\"\nexport default component.exports"],"sourceRoot":""}