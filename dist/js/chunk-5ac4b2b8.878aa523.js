(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ac4b2b8"],{"1a3b":function(t,e,s){},"26f5":function(t,e,s){},4615:function(t,e,s){"use strict";var r=s("a331"),i=s.n(r);i.a},"4ace":function(t,e,s){},5208:function(t,e,s){"use strict";var r=s("1a3b"),i=s.n(r);i.a},"5f9d":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"md-elevation-3",attrs:{"md-with-hover":""}},[s("md-card-header",{staticClass:"bg-ghost-white"},[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v("\n        Source\n      ")]),s("div",{staticClass:"md-caption"},[t._v("Where this stream is originating from.")])])],1),s("md-card-content",[s("br"),t._l(t.senders,function(t){return s("client-card",{key:t._id,attrs:{client:t}})})],2),s("md-card-header",{staticClass:"bg-ghost-white"},[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v("\n        Receivers\n      ")]),s("div",{staticClass:"md-caption"},[t._v("Where this stream is being received.")])])],1),s("md-card-content",[s("br"),t._l(t.receivers,function(t){return s("client-card",{key:t._id,attrs:{client:t}})}),0===t.receivers.length?s("p",[t._v("There seem to be no stream receivers.")]):t._e()],2)],1)},i=[],a=(s("f7fe"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md-layout client md-alignment-center-center"},[s("div",{staticClass:"md-layout-item md-size-10"},[s("md-icon",{class:{blue:"cloud_upload"===t.icon}},[t._v(t._s(t.icon))])],1),s("div",{staticClass:"md-layout-item md-caption"},[t._v("\n    "+t._s(t.client.documentType)+" "),t.client.documentName?s("span",[t._v("doc: "+t._s(t.client.documentName))]):t._e()]),s("div",{staticClass:"md-layout-item md-caption"},[t._v(" last seen: "),s("strong",[s("timeago",{attrs:{datetime:t.client.updatedAt}})],1)]),s("div",{staticClass:"md-layout-item md-caption"},[t.owner?s("span",[t._v(t._s(t.owner.name)+" "+t._s(t.owner.surname))]):t._e()])])}),n=[],o=(s("7514"),{name:"ClientCard",props:{client:Object},computed:{owner:function(){var t=this,e=this.$store.state.users.find(function(e){return e._id===t.client.owner});return e||this.$store.dispatch("getUser",{_id:this.client.owner}),e},icon:function(){return"sender"===this.client.role.toLowerCase()?"cloud_upload":"receiver"===this.client.role.toLowerCase()?"cloud_download":"hearing"}},data:function(){return{}},methods:{}}),c=o,d=(s("8227"),s("2877")),m=Object(d["a"])(c,a,n,!1,null,"0a3394ba",null);m.options.__file="ClientCard.vue";var u=m.exports,l={name:"StreamDetailNetwork",components:{ClientCard:u},props:{stream:Object},watch:{stream:function(t,e){this.fetchData()}},computed:{canEdit:function(){return!!this.isOwner||-1!==this.stream.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.stream.owner===this.$store.state.user._id},senders:function(){return this.stream.onlineEditable?[{role:"sender",documentType:"",documentName:"Web UI",updatedAt:this.stream.updatedAt,owner:this.stream.owner}]:this.$store.getters.streamClients(this.stream.streamId).filter(function(t){return"sender"===t.role.toLowerCase()})},receivers:function(){return this.$store.getters.streamClients(this.stream.streamId).filter(function(t){return"receiver"===t.role.toLowerCase()})},clients:function(){return this.$store.getters.streamClients(this.stream.streamId)}},methods:{fetchData:function(){this.$store.dispatch("getStreamClients",{streamId:this.stream.streamId})}},created:function(){this.fetchData()}},p=l,h=(s("7a1e"),Object(d["a"])(p,r,i,!1,null,"70eff9df",null));h.options.__file="StreamDetailNetwork.vue";e["a"]=h.exports},"6b9d":function(t,e,s){"use strict";var r=s("e745"),i=s.n(r);i.a},"7a1e":function(t,e,s){"use strict";var r=s("9103"),i=s.n(r);i.a},8227:function(t,e,s){"use strict";var r=s("26f5"),i=s.n(r);i.a},8450:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.resource?s("md-card",{staticClass:"md-elevation-3"},[s("md-card-header",{staticClass:"bg-ghost-white"},[s("md-card-header-text",[s("div",{staticClass:"md-title"},[t._v("Description")]),s("div",{staticClass:"md-caption"},[t._v("What this "+t._s(t.isStream?"stream":"project")+" is about.")])])],1),s("md-card-content",[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.editDescription,expression:"!editDescription"}]},[s("div",{domProps:{innerHTML:t._s(t.compiledDescription)}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.editDescription,expression:"editDescription"}]},[s("div",{staticClass:"md-caption"},[t._v("\n      Supports "),s("a",{attrs:{target:"_blank",href:"https://en.wikipedia.org/wiki/Markdown#Example"}},[t._v("markdown:")]),s("strong",[t._v(" ** bold **")]),t._v(", "),s("i",[t._v("* italic *")]),t._v(", "),s("code",[t._v("# Heading 1")]),t._v(", "),s("code",[t._v("## Heading 2")]),t._v(", "),s("code",[t._v("[links](http://example.com)")]),t._v(", etc.")]),s("md-field",[s("md-textarea",{model:{value:t.resource.description,callback:function(e){t.$set(t.resource,"description",e)},expression:"resource.description"}})],1)],1)]),s("md-card-actions",[!1===t.editDescription&&t.canEdit?s("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){t.editDescription=!0}}},[t._v("Edit description")]):t._e(),!0===t.editDescription?s("md-button",{staticClass:"md-primary",nativeOn:{click:function(e){return t.updateDescription(e)}}},[t._v("Done")]):t._e()],1),t.resource.baseProperties?s("md-card-content",{staticClass:"md-caption"},[s("span",[s("strong",[t._v("Units:")]),t._v(" "+t._s(t.resource.baseProperties.units?t.resource.baseProperties.units:"no units specified"))]),t._v(";\n    "),s("span",[s("strong",[t._v("Tolerance:")]),t._v(" "+t._s(t.resource.baseProperties.tolerance?t.resource.baseProperties.tolerance:"no tolerance specified"))]),t._v(".\n  ")]):t._e()],1):t._e()},i=[],a=(s("f7fe"),s("0e54")),n=s.n(a),o={name:"DetailDescription",props:{resource:Object},computed:{compiledDescription:function(){return n()(this.resource.description,{sanitize:!0})},canEdit:function(){return!!this.isOwner||-1!==this.resource.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.resource.owner===this.$store.state.user._id},isStream:function(){return this.resource.hasOwnProperty("streamId")}},data:function(){return{editDescription:!1}},methods:{updateDescription:function(){this.editDescription=!1,this.isStream?this.$store.dispatch("updateStream",{streamId:this.resource.streamId,description:this.resource.description}):this.$store.dispatch("updateProject",{_id:this.resource._id,description:this.resource.description})}}},c=o,d=(s("949f"),s("2877")),m=Object(d["a"])(c,r,i,!1,null,"5c77723a",null);m.options.__file="DetailDescription.vue";e["a"]=m.exports},9103:function(t,e,s){},"949f":function(t,e,s){"use strict";var r=s("4ace"),i=s.n(r);i.a},a29c:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("detail-description",{attrs:{resource:t.stream}}),s("br"),s("stream-detail-network",{attrs:{stream:t.stream}}),s("br"),s("md-card",[s("md-card-header",{staticClass:"bg-ghost-white"},[s("md-card-header-text",[s("h2",{staticClass:"md-title"},[t._v("Projects")]),s("p",{staticClass:"md-caption"},[t._v("Projects this stream is part of.")])])],1),s("md-card-content",[t._l(t.streamProjects,function(e,r){return s("md-chip",{staticClass:"md-primary",attrs:{"md-clickable":""}},[s("router-link",{staticStyle:{color:"white !important"},attrs:{to:"/projects/"+e._id}},[t._v(t._s(e.name))]),t._v("Â \n      ")],1)}),0===t.streamProjects.length?s("p",[t._v("This stream is not part of any projects.")]):t._e()],2)],1),s("br")],1)},i=[],a=(s("6762"),s("2fdb"),s("ac6a"),s("7514"),s("cadf"),s("551c"),s("097d"),s("f7fe"),s("13bb")),n=s.n(a),o=s("bdd8"),c=s("8450"),d=s("5f9d"),m=s("a41d"),u={name:"StreamDetailView",components:{StreamDetailTitle:o["a"],DetailDescription:c["a"],StreamDetailNetwork:d["a"],StreamDetailComments:m["a"]},computed:{stream:function(){var t=this,e=this.$store.state.streams.find(function(e){return e.streamId===t.$route.params.streamId});return e},canEdit:function(){return!!this.isOwner||-1!==this.stream.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.stream.owner===this.$store.state.user._id},streamProjects:function(){var t=this;return this.$store.state.projects.filter(function(e){return-1!==e.streams.indexOf(t.stream.streamId)})}},data:function(){return{error:"",editDescription:!1}},methods:{restore:function(){this.$store.dispatch("updateStream",{streamId:this.stream.streamId,deleted:!1})}},mounted:function(){var t=this,e=this.$store.state.streams.find(function(e){return e.streamId===t.$route.params.streamId});e?(this.$store.dispatch("getUser",{_id:e.owner}),n()(e.canRead,e.canWrite).forEach(function(e){return t.$store.dispatch("getUser",{_id:e})})):this.$store.dispatch("getStream",{streamId:this.$route.params.streamId}).then(function(e){t.$store.dispatch("getUser",{_id:e.data.resource.owner}),n()(e.data.resource.canRead,e.data.resource.canWrite).forEach(function(e){return t.$store.dispatch("getUser",{_id:e})})}).catch(function(e){e.message.includes("404")&&(t.error="Stream ".concat(t.$route.params.streamId," was not found.")),e.message.includes("401")&&(t.error="Stream ".concat(t.$route.params.streamId," is not accessible to you due to its protection level."))})}},l=u,p=(s("4615"),s("2877")),h=Object(p["a"])(l,r,i,!1,null,"55a7c8a0",null);h.options.__file="StreamOverview.vue";e["default"]=h.exports},a331:function(t,e,s){},a41d:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"md-elevation-3"},[s("md-card-content",[s("div",{staticClass:"md-title"},[t._v("Comments")]),s("md-divider",{attrs:{"md-inset":""}}),s("p",[t._v("TODO")])],1)],1)},i=[],a=(s("f7fe"),{name:"StreamDetailUserComments",props:{stream:Object},computed:{canEdit:function(){return!!this.isOwner||-1!==this.stream.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.stream.owner===this.$store.state.user._id}},methods:{}}),n=a,o=(s("5208"),s("2877")),c=Object(o["a"])(n,r,i,!1,null,"a151e346",null);c.options.__file="StreamDetailComments.vue";e["a"]=c.exports},bdd8:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("md-card",{staticClass:"md-elevation-0 title-card"},[s("md-card-content",[s("h1",{staticClass:"md-display-1"},[s("router-link",{attrs:{to:"/streams"}},[t._v("Streams")]),t._v(" /\n      "),t.canEdit&&t.stream.onlineEditable?s("editable-span",{attrs:{text:t.stream.name},on:{update:t.updateName}}):s("span",[t._v(t._s(t.stream.name))])],1),s("p",[s("md-button",{staticClass:"md-icon-button md-dense md-raised md-primary",attrs:{to:"/view/"+t.stream.streamId}},[s("md-icon",[t._v("3d_rotation")])],1),s("span",[s("md-chip",{staticClass:"md-primary"},[t._v("streamId: "),s("strong",{staticStyle:{"user-select":"all",cursor:"pointer"}},[t._v(t._s(t.stream.streamId))])])],1),t._v("Â \n      ")],1),s("div",{staticClass:"md-xlarge-hide md-large-hide md-medium-hide md-small-hide"},[s("br"),t._v("Â ")]),s("md-chip",{},[t.canEdit?s("span",[s("md-icon",[t._v("lock_open")]),t._v(" you can edit.")],1):s("span",[s("md-icon",[t._v("lock")]),t._v(" you cannot edit.")],1)]),s("p"),s("md-divider"),s("md-chips",{staticClass:"stream-chips",attrs:{"md-placeholder":"add tags","md-disabled":"!canEdit"},on:{input:t.updateTags},model:{value:t.stream.tags,callback:function(e){t.$set(t.stream,"tags",e)},expression:"stream.tags"}})],1)],1)},i=[],a=s("f7fe"),n=s.n(a),o={name:"StreamDetailTitle",props:{stream:Object},computed:{canEdit:function(){return!!this.isOwner||-1!==this.stream.canWrite.indexOf(this.$store.state.user._id)},isOwner:function(){return this.stream.owner===this.$store.state.user._id},streamProjects:function(){var t=this;return this.$store.state.projects.filter(function(e){return-1!==e.streams.indexOf(t.stream.streamId)})},viewLink:function(){var t=new URL(this.$store.state.server);return t.origin+"/view?streams=".concat(this.stream.streamId)}},data:function(){return{}},methods:{updateTags:n()(function(t){this.$store.dispatch("updateStream",{streamId:this.stream.streamId,tags:this.stream.tags})},1e3),updateName:function(t){this.$store.dispatch("updateStream",{streamId:this.stream.streamId,name:t.text})}},mounted:function(){}},c=o,d=(s("6b9d"),s("2877")),m=Object(d["a"])(c,r,i,!1,null,"78bcfd18",null);m.options.__file="StreamDetailTitle.vue";e["a"]=m.exports},e745:function(t,e,s){}}]);
//# sourceMappingURL=chunk-5ac4b2b8.878aa523.js.map