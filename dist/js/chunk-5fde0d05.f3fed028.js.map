{"version":3,"sources":["webpack:///./src/views/Trash.vue?bc90","webpack:///src/views/Trash.vue","webpack:///./src/views/Trash.vue?dd23","webpack:///./src/views/Trash.vue","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/ProjectCard.vue?7599","webpack:///src/components/ProjectCard.vue","webpack:///./src/components/ProjectCard.vue?14e4","webpack:///./src/components/ProjectCard.vue","webpack:///./src/views/Trash.vue?4878","webpack:///./src/components/ProjectCard.vue?ff75"],"names":["render","_vm","this","_h","$createElement","_c","_self","allResources","length","attrs","md-icon","md-label","md-description","_v","staticClass","md-clearable","spellcheck","on","input","$event","model","value","callback","$$v","filterText","expression","_l","resource","key","_id","style","background","streamId","_s","name","substring","toUpperCase","to","datetime","updatedAt","nativeOn","click","deleteForever","restore","staticRenderFns","Trashvue_type_script_lang_js_","components","ProjectCard","computed","projects","$store","state","filter","p","deleted","streams","s","Object","toConsumableArray","concat","sort","a","b","Date","allResourcesFiltered","_this","r","toLowerCase","includes","data","methods","dispatch","created","views_Trashvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","fails","__webpack_require__","module","exports","method","arg","call","$export","aFunction","toObject","$sort","test","P","F","undefined","comparefn","class","stream-card","selected","md-with-hover","project","stlye","domProps","innerHTML","compiledDescription","createdAt","staticStyle","padding","projectTeamMembers","md-placeholder","updateTags","$set","directives","rawName","archiveProject","ProjectCardvue_type_script_lang_js_","props","watch","$emit","lodash_union_default","canRead","canWrite","date","toLocaleString","year","month","day","marked_default","description","sanitize","canEdit","isOwner","indexOf","user","owner","lodash_debounce_default","e","tags","mounted","bus","$on","components_ProjectCardvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Trash_vue_vue_type_style_index_0_id_031fb28f_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Trash_vue_vue_type_style_index_0_id_031fb28f_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectCard_vue_vue_type_style_index_0_id_ae08e656_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectCard_vue_vue_type_style_index_0_id_ae08e656_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-5fde0d05.f3fed028.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.allResources.length===0)?_c('md-empty-state',{attrs:{\"md-icon\":\"delete_outline\",\"md-label\":\"\",\"md-description\":\"By creating a project, you'll be able to group streams together and share them with a team.\"}},[_vm._v(\"\\n    You do not have any deleted items.\\n  \")]):_c('div',{staticClass:\"md-layout\"},[_c('md-card',{staticClass:\"md-elevation-0 md-layout-item md-size-100\"},[_c('md-card-content',[_c('h1',{staticClass:\"md-display-2\"},[_vm._v(\"Trash bin\")]),_c('p',[_vm._v(\"These are your deleted resources. You can restore them or delete them permanently. Take care, there's no undo button!\")])])],1),_c('md-card',{staticClass:\"main-toolbar md-elevation-3\"},[_c('md-card-content',{staticClass:\"md-layout md-alignment-center-space-between\"},[_c('div',{staticClass:\"md-layout-item md-size-100\"},[_c('md-field',{attrs:{\"md-clearable\":\"\"}},[_c('md-icon',[_vm._v(\"search\")]),_c('label',[_vm._v(\"search for resources by their name\")]),_c('md-input',{attrs:{\"spellcheck\":\"false\"},on:{\"input\":function($event){}},model:{value:(_vm.filterText),callback:function ($$v) {_vm.filterText=$$v},expression:\"filterText\"}})],1)],1)])],1),_c('div',{staticClass:\"md-layout md-alignment-center-center\"},[_c('div',{staticClass:\"md-layout-item md-size-100 md-medium-size-100\"},[_c('md-card',{staticClass:\"md-elevation-0\"},_vm._l((_vm.allResourcesFiltered),function(resource){return _c('md-card-content',{key:resource._id,staticClass:\"md-layout md-alignment-center-center\"},[_c('div',{staticClass:\"md-layout-item md-size-5\"},[_c('md-avatar',{staticClass:\"md-avatar-icon md-small\",style:({ \"background\" : resource.streamId ? \"#448aff\" : \"#E639B9\" })},[_vm._v(_vm._s(resource.name.substring(0,1).toUpperCase()))])],1),_c('div',{staticClass:\"md-layout-item\"},[_c('router-link',{attrs:{\"to\":resource.streamId ? \"/streams/\"+resource.streamId : \"/projects/\"+resource._id}},[_vm._v(_vm._s(resource.name))])],1),_c('div',{staticClass:\"md-layout-item md-caption\"},[_vm._v(_vm._s(resource.streamId ? \"stream\" : \"project\"))]),_c('div',{staticClass:\"md-layout-item md-caption\"},[_vm._v(\"Last modified: \"),_c('strong',[_c('timeago',{attrs:{\"datetime\":resource.updatedAt}})],1)]),_c('div',{staticClass:\"md-layout-item md-size-30 text-right\"},[_c('md-button',{staticClass:\"md-accent md-icon-button\",nativeOn:{\"click\":function($event){_vm.deleteForever( resource )}}},[_c('md-icon',[_vm._v(\"delete_forever\")])],1),_c('md-button',{staticClass:\"md-primary md-raised\",nativeOn:{\"click\":function($event){_vm.restore( resource )}}},[_vm._v(\"\\n                restore\\n              \")])],1)])}))],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <md-empty-state md-icon=\"delete_outline\" md-label=\"\" md-description=\"By creating a project, you'll be able to group streams together and share them with a team.\" v-if='allResources.length===0'>\r\n      You do not have any deleted items.\r\n    </md-empty-state>\r\n    <div class='md-layout' v-else>\r\n      <md-card class=\"md-elevation-0 md-layout-item md-size-100\">\r\n        <md-card-content>\r\n          <h1 class='md-display-2'>Trash bin</h1>\r\n          <p>These are your deleted resources. You can restore them or delete them permanently. Take care, there's no undo button!</p>\r\n        </md-card-content>\r\n      </md-card>\r\n      <md-card class=\"main-toolbar md-elevation-3\">\r\n        <md-card-content class='md-layout md-alignment-center-space-between'>\r\n          <div class=\"md-layout-item md-size-100\">\r\n            <md-field md-clearable>\r\n              <md-icon>search</md-icon>\r\n              <label>search for resources by their name</label>\r\n              <md-input v-model='filterText' @input=\"\" spellcheck=\"false\"></md-input>\r\n            </md-field>\r\n          </div>\r\n        </md-card-content>\r\n      </md-card>\r\n      <div class=\"md-layout md-alignment-center-center\">\r\n        <div class=\"md-layout-item md-size-100 md-medium-size-100\">\r\n          <md-card class=\"md-elevation-0\">\r\n            <md-card-content class='md-layout md-alignment-center-center' v-for='resource in allResourcesFiltered' :key='resource._id'>\r\n              <div class=\"md-layout-item md-size-5\">\r\n                <md-avatar class=\"md-avatar-icon md-small\" :style='{ \"background\" : resource.streamId ? \"#448aff\" : \"#E639B9\" }'>{{resource.name.substring(0,1).toUpperCase()}}</md-avatar>\r\n              </div>\r\n              <div class=\"md-layout-item\">\r\n                <router-link :to='resource.streamId ? \"/streams/\"+resource.streamId : \"/projects/\"+resource._id'>{{resource.name}}</router-link>\r\n              </div>\r\n              <div class=\"md-layout-item md-caption\">{{resource.streamId ? \"stream\" : \"project\"}}</div>\r\n              <div class=\"md-layout-item md-caption\">Last modified: <strong><timeago :datetime='resource.updatedAt'></timeago></strong></div>\r\n              <div class=\"md-layout-item md-size-30 text-right\">\r\n                <md-button class='md-accent md-icon-button' @click.native='deleteForever( resource )'>\r\n                  <md-icon>delete_forever</md-icon>\r\n                </md-button>\r\n                <md-button class='md-primary md-raised' @click.native='restore( resource )'>\r\n                  restore\r\n                </md-button>\r\n              </div>\r\n            </md-card-content>\r\n          </md-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ProjectCard from '../components/ProjectCard.vue'\r\n\r\nexport default {\r\n  name: 'TrashView',\r\n  components: {\r\n    ProjectCard\r\n  },\r\n  computed: {\r\n    projects( ) {\r\n      return this.$store.state.projects.filter( p => p.deleted === true )\r\n    },\r\n    streams( ) {\r\n      return this.$store.state.streams.filter( s => s.deleted === true )\r\n    },\r\n    allResources( ) {\r\n      return [ ...this.streams, ...this.projects ].sort( ( a, b ) => {\r\n        return new Date( b.updatedAt ) - new Date( a.updatedAt );\r\n      } )\r\n    },\r\n    allResourcesFiltered( ) {\r\n      if ( this.filterText === '' ) return this.allResources\r\n      return this.allResources.filter( r => r.name.toLowerCase( ).includes( this.filterText.toLowerCase( ) ) ).sort( ( a, b ) => a.updatedAt > b.updatedAt )\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      filterText: ''\r\n    }\r\n  },\r\n  methods: {\r\n    deleteForever( resource ) {\r\n      if ( resource.streamId )\r\n        this.$store.dispatch( 'deleteStream', { streamId: resource.streamId } )\r\n      else\r\n        this.$store.dispatch( 'deleteProject', { _id: resource._id } )\r\n    },\r\n    restore( resource ) {\r\n      if ( resource.streamId )\r\n        this.$store.dispatch( 'updateStream', { streamId: resource.streamId, deleted: false } )\r\n      else\r\n        this.$store.dispatch( 'updateProject', { _id: resource._id, deleted: false } )\r\n    }\r\n  },\r\n  created( ) {}\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.md-field label {\r\n  opacity: 0.5;\r\n}\r\n\r\n.main-toolbar {\r\n  position: -webkit-sticky;\r\n  /* Safari */\r\n  position: sticky;\r\n  top: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  z-index: 100;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.md-field {\r\n  margin: 0 !important;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trash.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trash.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trash.vue?vue&type=template&id=031fb28f&scoped=true&\"\nimport script from \"./Trash.vue?vue&type=script&lang=js&\"\nexport * from \"./Trash.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Trash.vue?vue&type=style&index=0&id=031fb28f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"031fb28f\",\n  null\n  \n)\n\ncomponent.options.__file = \"Trash.vue\"\nexport default component.exports","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('md-card',{class:{'stream-card':true, 'selected':_vm.selected},attrs:{\"md-with-hover\":\"\"}},[_c('md-card-header',{on:{\"click\":function($event){_vm.selected=!_vm.selected}}},[_c('md-card-header-text',[_c('router-link',{attrs:{\"to\":\"/projects/\"+_vm.project._id}},[_c('div',{staticClass:\"md-title\"},[_vm._v(_vm._s(_vm.project.name))]),_c('div',{staticClass:\"md-subhead md-small-hide\",attrs:{\"stlye\":\"user-select:all;\"}},[_vm._v(_vm._s(_vm.project._id))]),_c('div',{staticClass:\"md-caption md-small-hide\",domProps:{\"innerHTML\":_vm._s(_vm.compiledDescription)}})])],1)],1),_c('md-card-content',[_c('div',{staticClass:\"md-layout md-alignment-center-center\"},[_c('div',{staticClass:\"md-layout-item md-size-10\"},[_c('md-icon',[_vm._v(\"access_time\")])],1),_c('div',{staticClass:\"md-layout-item md-caption\"},[_c('strong',[_c('timeago',{attrs:{\"datetime\":_vm.project.updatedAt}})],1)]),_c('div',{staticClass:\"md-layout-item md-size-10\"},[_c('md-icon',[_vm._v(\"create\")])],1),_c('div',{staticClass:\"md-layout-item md-caption\"},[_vm._v(\"\\n        \"+_vm._s(_vm.createdAt)+\"\\n      \")]),_c('div',{staticClass:\"md-layout-item md-size-100\",staticStyle:{\"padding\":\"10px 0px\"}},[_c('div',{staticClass:\"md-layout md-alignment-center-left\"},[_c('div',{staticClass:\"md-layout-item md-size-10\"},[_c('md-icon',[_vm._v(\"person\")])],1),_c('div',{staticClass:\"md-layout-item xxxmd-size-10 md-caption\"},[_c('strong',[_vm._v(_vm._s(_vm.projectTeamMembers.length))]),_vm._v(\" team members.\\n          \")]),_c('div',{staticClass:\"md-layout-item md-size-10\"},[_c('md-icon',[_vm._v(\"import_export\")])],1),_c('div',{staticClass:\"md-layout-item xxxmd-size-25 md-caption\"},[_c('strong',[_vm._v(_vm._s(_vm.project.streams.length))]),_vm._v(\" streams.\\n          \")])])]),_c('div',{staticClass:\"md-layout-item md-size-100 md-small-hide\"},[_c('md-chips',{staticClass:\"stream-chips\",attrs:{\"md-placeholder\":\"add tags\"},on:{\"input\":_vm.updateTags},model:{value:(_vm.project.tags),callback:function ($$v) {_vm.$set(_vm.project, \"tags\", $$v)},expression:\"project.tags\"}})],1)])]),_c('md-card-actions',[_c('md-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isOwner),expression:\"isOwner\"}],staticClass:\"md-accent\",nativeOn:{\"click\":function($event){return _vm.archiveProject($event)}}},[_vm._v(\"Archive\")]),_c('md-button',{staticClass:\"md-raised-xxx\",attrs:{\"to\":\"/projects/\"+_vm.project._id}},[_vm._v(\"More...\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <md-card md-with-hover :class=\"{'stream-card':true, 'selected':selected}\">\r\n    <md-card-header @click='selected=!selected'>\r\n      <md-card-header-text>\r\n        <router-link :to='\"/projects/\"+project._id'>\r\n          <div class=\"md-title\">{{project.name}}</div>\r\n          <div class=\"md-subhead md-small-hide\" stlye='user-select:all;'>{{project._id}}</div>\r\n          <div class=\"md-caption md-small-hide\" v-html='compiledDescription'></div>\r\n        </router-link>\r\n      </md-card-header-text>\r\n      <!-- <md-checkbox v-model=\"selected\" value=\"1\" @click.native='$emit(\"selected\", stream)'></md-checkbox> -->\r\n    </md-card-header>\r\n    <md-card-content>\r\n      <div class=\"md-layout md-alignment-center-center\">\r\n        <div class=\"md-layout-item md-size-10\">\r\n          <md-icon>access_time</md-icon>\r\n        </div>\r\n        <div class=\"md-layout-item md-caption\">\r\n          <strong><timeago :datetime='project.updatedAt'></timeago></strong>\r\n        </div>\r\n        <div class=\"md-layout-item md-size-10\">\r\n          <md-icon>create</md-icon>\r\n        </div>\r\n        <div class=\"md-layout-item md-caption\">\r\n          {{createdAt}}\r\n        </div>\r\n        <div class=\"md-layout-item md-size-100\" style=\"padding: 10px 0px;\">\r\n          <div class=\"md-layout md-alignment-center-left\">\r\n            <div class='md-layout-item md-size-10'>\r\n              <md-icon>person</md-icon>\r\n            </div>\r\n            <div class='md-layout-item xxxmd-size-10 md-caption'>\r\n              <strong>{{projectTeamMembers.length}}</strong> team members.\r\n            </div>\r\n            <div class='md-layout-item md-size-10'>\r\n              <md-icon>import_export</md-icon>\r\n            </div>\r\n            <div class='md-layout-item xxxmd-size-25 md-caption'>\r\n              <strong>{{project.streams.length}}</strong> streams.\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class='md-layout-item md-size-100 md-small-hide'>\r\n          <md-chips v-model=\"project.tags\" @input='updateTags' md-placeholder=\"add tags\" class='stream-chips'></md-chips>\r\n        </div>\r\n      </div>\r\n    </md-card-content>\r\n    <md-card-actions>\r\n      <md-button class='md-accent' @click.native='archiveProject' v-show='isOwner'>Archive</md-button>\r\n      <md-button class='md-raised-xxx' :to='\"/projects/\"+project._id'>More...</md-button>\r\n    </md-card-actions>\r\n    <!-- {{stream.streamId}} -->\r\n  </md-card>\r\n</template>\r\n<script>\r\nimport debounce from 'lodash.debounce'\r\nimport uniq from 'lodash.uniq'\r\nimport union from 'lodash.union'\r\nimport marked from 'marked'\r\n\r\nexport default {\r\n  name: 'ProjectCard',\r\n  props: {\r\n    resource: Object\r\n  },\r\n  watch: {\r\n    selected( ) { this.$emit( \"selected\", this.project ) }\r\n  },\r\n  computed: {\r\n    project( ) {\r\n      return this.resource\r\n    },\r\n    projectTeamMembers( ) {\r\n      return union( this.project.canRead, this.project.canWrite )\r\n    },\r\n    createdAt( ) {\r\n      let date = new Date( this.project.createdAt )\r\n      return date.toLocaleString( 'en', { year: 'numeric', month: 'long', day: 'numeric' } )\r\n    },\r\n    compiledDescription( ) {\r\n      return marked( this.project.description.substring( 0, 400 ) + ' ...', { sanitize: true } )\r\n    },\r\n    canEdit( ) {\r\n      return this.isOwner ? true : this.project.canWrite.indexOf( this.$store.state.user._id ) !== -1\r\n    },\r\n    isOwner( ) {\r\n      return this.project.owner === this.$store.state.user._id\r\n    }\r\n  },\r\n  data( ) {\r\n    return {\r\n      selected: false,\r\n    }\r\n  },\r\n  methods: {\r\n    archiveProject( ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, deleted: true } )\r\n      // this.$store.dispatch( 'updateStream', { _id: this.project._id, deleted: true } )\r\n      // this.$emit( 'deleted' )\r\n    },\r\n    updateTags: debounce( function( e ) {\r\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, tags: this.project.tags } )\r\n    }, 1000 )\r\n  },\r\n  mounted( ) {\r\n    bus.$on( 'unselect-all', ( ) => {\r\n      this.selected = false\r\n    } )\r\n  }\r\n}\r\n\r\n</script>\r\n<style scoped lang='scss'>\r\n.stream-chips:after {\r\n  display: none !important;\r\n}\r\n\r\n.stream-chips:before {\r\n  display: none !important;\r\n}\r\n\r\n.md-card-actions,\r\n.md-card-header {\r\n  background: ghostwhite;\r\n}\r\n\r\n.md-card-header {\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.stream-chips {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.stream-chips input {\r\n  font-size: 10px;\r\n}\r\n\r\n.stream-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\ni {\r\n  color: #4C4C4C;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectCard.vue?vue&type=template&id=ae08e656&scoped=true&\"\nimport script from \"./ProjectCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectCard.vue?vue&type=style&index=0&id=ae08e656&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ae08e656\",\n  null\n  \n)\n\ncomponent.options.__file = \"ProjectCard.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trash.vue?vue&type=style&index=0&id=031fb28f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trash.vue?vue&type=style&index=0&id=031fb28f&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectCard.vue?vue&type=style&index=0&id=ae08e656&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectCard.vue?vue&type=style&index=0&id=ae08e656&scoped=true&lang=scss&\""],"sourceRoot":""}